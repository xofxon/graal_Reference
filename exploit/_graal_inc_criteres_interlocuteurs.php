<?php
include("_graal_var_portee.php");
_graal_requete_charge_varlib($vl_c_id_graal_inc_critere_interlo,$vl_e_uti_cleunik);
$vl_c_bcb_001=fa_recup_dico("bcb_001");
$vl_c_bcb_002=fa_recup_dico("bcb_002");
$vl_c_bcb_003=fa_recup_dico("bcb_003");
$vl_c_bcb_004=fa_recup_dico("bcb_004");
$vl_c_bcb_005=fa_recup_dico("bcb_005");
$vl_c_bcb_006=fa_recup_dico("bcb_006");
$vl_c_bcb_007=fa_recup_dico("bcb_007");
$vl_c_bcb_008=fa_recup_dico("bcb_008");
$vl_c_bcb_010=fa_recup_dico("bcb_010");
$vl_c_bcb_012=fa_recup_dico("bcb_012");
$vl_c_bcb_013=fa_recup_dico("bcb_013");
$vl_c_bcb_015=fa_recup_dico("bcb_015");
$vl_c_dico_00019=fa_recup_dico("dico_00019");
$vl_c_dico_00026=fa_recup_dico("dico_00026");
$vl_c_dico_00031=fa_recup_dico("dico_00031");
$vl_c_dico_00032=fa_recup_dico("dico_00032");
$vl_c_dico_00033=fa_recup_dico("dico_00033");
$vl_c_dico_00034=fa_recup_dico("dico_00034");
$vl_c_dico_00035=fa_recup_dico("dico_00035");
$vl_c_dico_00036=fa_recup_dico("dico_00036");
$vl_c_dico_00057=fa_recup_dico("dico_00057");

$vl_c_selqui_01="false";
$vl_c_selqui_02="false";
$vl_c_selqui_03="false";
$vl_c_selqui_04="false";
$vl_c_selqui_05="false";
$vl_c_selqui_06="false";
$vl_c_selqui_07="false";
$vl_c_selqui_08="false";
switch ($vl_e_fausseportee){
  case 1;$vl_c_selqui_01="true";break;
  case 2;$vl_c_selqui_02="true";break;
  case 4;$vl_c_selqui_03="true";break;
  case 8;$vl_c_selqui_04="true";break;
  case 16;$vl_c_selqui_05="true";break;
  case 32;$vl_c_selqui_06="true";break;
  case 64;$vl_c_selqui_07="true";break;
  case 4096;$vl_c_selqui_08="true";break;
}
$vl_c_dico_00106=fa_recup_dico("dico_00106");
$vl_c_context_00='<popupset><popup id="pop_arb_criteres"><menuitem class="menuitem-iconic ad09" label="'.$vl_c_dico_00106.'" oncommand="fa_infos_colonnes_arbre_recup(\''.$vl_c_id_fenetre.'\',\'arb_criteres\');" /></popup></popupset>';
echo <<<END
  <_graal_inc id="bcb_ove_01" flex="4">
$vl_c_context_00
<vbox flex="1">
<hbox flex="1">
    <menulist sizetopopup="none" onfocus='setTimeout(fa_focus_gere_menulist, 0, this);' disabled="$vl_c_inactif" flex="2" id="bcb_ml_qui" oncommand="pf_change_menu();pf_alimente_table();">
      <menupopup>
END;
if ($vl_e_portee & $vl_e_entrep) {echo ('<menuitem class="menuitem-iconic ba07" crop="start" label="'.$vl_c_dico_00019.'"  value="'.$vl_e_entrep.'" selected="'.$vl_c_selqui_01.'"/>');}
if ($vl_e_portee & $vl_e_procli) {echo ('<menuitem class="menuitem-iconic ba02" crop="start" label="'.$vl_c_dico_00031.'"  value="'.$vl_e_procli.'" selected="'.$vl_c_selqui_02.'"/>');}
if ($vl_e_portee & $vl_e_client) {echo ('<menuitem class="menuitem-iconic ba01" crop="start" label="'.$vl_c_dico_00033.'"  value="'.$vl_e_client.'" selected="'.$vl_c_selqui_03.'"/>');}
if ($vl_e_portee & $vl_e_profou) {echo ('<menuitem class="menuitem-iconic ba04" crop="start" label="'.$vl_c_dico_00032.'"  value="'.$vl_e_profou.'" selected="'.$vl_c_selqui_04.'"/>');}
if ($vl_e_portee & $vl_e_fourni) {echo ('<menuitem class="menuitem-iconic ba03" crop="start" label="'.$vl_c_dico_00034.'"  value="'.$vl_e_fourni.'" selected="'.$vl_c_selqui_05.'"/>');}
if ($vl_e_portee & $vl_e_autrac) {echo ('<menuitem class="menuitem-iconic ba05" crop="start" label="'.$vl_c_dico_00035.'"  value="'.$vl_e_autrac.'" selected="'.$vl_c_selqui_06.'"/>');}
if ($vl_e_portee & $vl_e_actind) {echo ('<menuitem class="menuitem-iconic ba06" crop="start" label="'.$vl_c_dico_00036.'"  value="'.$vl_e_actind.'" selected="'.$vl_c_selqui_07.'"/>');}
if ($vl_e_fausseportee==4096 )   {echo ('<menuitem class="menuitem-iconic ai18" crop="start" label="'.$vl_c_dico_00026.'"  value="'.$vl_e_portee.'" selected="'.$vl_c_selqui_08.'"/>');}
echo <<<END
      </menupopup>
    </menulist>

    <groupbox flex="1">
    <caption><label value="$vl_c_bcb_001" /></caption>
    <radiogroup id="rdg_etat" onclick="pf_alimente_table();" flex="1">
       <hbox flex="1">
       <radio label="$vl_c_bcb_002" value="1" />
       <spacer flex="1"/>
       <radio label="$vl_c_bcb_003" selected="true" value="2" />
       <spacer flex="1" />
       <radio label="$vl_c_bcb_004" value="3" />
       </hbox>
     </radiogroup>
  </groupbox>
     
   
     <groupbox flex="1">
    <caption><label value="$vl_c_bcb_005" /></caption>
    <radiogroup id="rdg_position" onclick="pf_alimente_table();" flex="1">
       <hbox flex="1">
       <radio label="$vl_c_bcb_006" value="1"  />
       <radio label="$vl_c_bcb_007" selected="true" value="2" />
       <radio label="$vl_c_bcb_008" value="3"  />
       </hbox>
     </radiogroup>
  </groupbox>
</hbox>
<hbox flex="40">

   <vbox flex="40">
   <tree flex="40" id="arb_criteres" enableColumnDrag="true" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(this.id);" context="pop_arb_criteres">
     <treecols> 
      <treecol id="critere_cleunik" hidden="true" label="$vl_c_bcb_010" ignoreincolumnpicker="true" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="critere_code" label="$vl_c_bcb_012"   sort="?critere_code"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="critere_denomination" label="$vl_c_bcb_013"   sort="?critere_denomination"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="critere_actif" label="$vl_c_bcb_015"   sort="?critere_actif"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="portee_entreprise" label="$vl_c_dico_00019"   sort="?portee_entreprise"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="portee_prospect_client" label="$vl_c_dico_00031"   sort="?portee_prospect_client"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="portee_client" label="$vl_c_dico_00033"   sort="?portee_client"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="portee_prospect_fournisseur" label="$vl_c_dico_00032"   sort="?portee_prospect_fournisseur"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="portee_fournisseur" label="$vl_c_dico_00034"   sort="?portee_fournisseur"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="portee_autre_acteur" label="$vl_c_dico_00035"   sort="?portee_autre_acteur"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="portee_acteur_indetermine" label="$vl_c_dico_00036"   sort="?portee_acteur_indetermine"/><splitter class="tree-splitter" resizeafter="grow"/>
     </treecols>
     <template><query expr="*"/><action>
       <treechildren >
         <treeitem uri="?" seltype="single">
           <treerow >
             <treecell label="?critere_cleunik"/>
             <treecell label="?critere_code"/>
             <treecell label="?critere_denomination"/>
             <treecell label="?critere_actif"/>
             <treecell label="?portee_entreprise"/>
             <treecell label="?portee_prospect_client"/>
             <treecell label="?portee_client"/>
             <treecell label="?portee_prospect_fournisseur"/>
             <treecell label="?portee_fournisseur"/>
             <treecell label="?portee_autre_acteur"/>
             <treecell label="?portee_acteur_indetermine"/>
           </treerow>
         </treeitem>
       </treechildren>
     </action></template>
   </tree>
   </vbox>
</hbox>
</vbox>
  </_graal_inc>   
END;
?>
