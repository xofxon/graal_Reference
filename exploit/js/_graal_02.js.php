<?php
$vl_c_dico00019=fa_recup_dico_js("dico_00019");
$vl_c_dico00020=fa_recup_dico_js("dico_00020");
$vl_c_dico00021=fa_recup_dico_js("dico_00021");
$vl_c_dico00022=fa_recup_dico_js("dico_00022");
$vl_c_dico00023=fa_recup_dico_js("dico_00023");
$vl_c_dico00024=fa_recup_dico_js("dico_00024");
$vl_c_dico00025=fa_recup_dico_js("dico_00025");
$vl_c_dico00031=fa_recup_dico_js("dico_00031");
$vl_c_dico00032=fa_recup_dico_js("dico_00032");
$vl_c_dico00033=fa_recup_dico_js("dico_00033");
$vl_c_dico00034=fa_recup_dico_js("dico_00034");
$vl_c_dico00035=fa_recup_dico_js("dico_00035");
$vl_c_dico00036=fa_recup_dico_js("dico_00036");
if ($vl_tb_droits_onglet_admin[0]==true) {
  $graal_02_js_01=<<<EOT
	fa_mlsel("gesdoc_ml_zone",fa_xml_get(vl_c_datas,'gesdoc_ml_zone'),"value");
	fa_value_set("gesacteurs_ml_zone",fa_xml_get(vl_c_datas,'gesacteurs_ml_zone'));
	fa_value_set("gesinterlo_ml_zone",fa_xml_get(vl_c_datas,'gesinterlo_ml_zone'));
	fa_value_set("gesactions_ml_zone",fa_xml_get(vl_c_datas,'gesactions_ml_zone'));
	fa_value_set("rdg_admin",fa_xml_get(vl_c_datas,'rdg_admin'));
	fa_value_set("rdg_crypte_docs",fa_xml_get(vl_c_datas,'aut_crypte_docs'));
EOT;
}
echo <<<END
<script type="application/x-javascript"><![CDATA[
function aaj_pa_affiche_datas(stream){
/* **********  Affichage des données sur fiche utilisateur ******** */
var vl_c_datas;
vl_c_datas = stream;
fa_value_set("tb_uuid",fa_xml_get(vl_c_datas,'uuid'));
fa_value_set("tb_prenom",fa_xml_get(vl_c_datas,'prenom'));
fa_value_set("tb_patronyme",fa_xml_get(vl_c_datas,'patronyme'));
fa_att_set("tb_codealphanum15","_graal_cleunik",fa_xml_get(vl_c_datas,'uti_cleunik'));
fa_att_set("tb_interlo","_graal_cleunik",fa_xml_get(vl_c_datas,'int_cleunik'));
fa_value_set("tb_codealphanum15",fa_xml_get(vl_c_datas,'codealphanum15'));
fa_value_set('rdg_actif',fa_xml_get(vl_c_datas,'actif'));
fa_mlsel("ml_langue",fa_xml_get(vl_c_datas,'langue'));
fa_value_set("la_dateheurevalidite",fa_xml_get(vl_c_datas,'dateheurevalidite'));
fa_value_set("la_borne_mini",fa_xml_get(vl_c_datas,'borne_mini'));
fa_value_set("la_borne_maxi",fa_xml_get(vl_c_datas,'borne_maxi'));
fa_value_set("tb_identifiant",fa_xml_get(vl_c_datas,'identifiant'));
fa_value_set("tb_motdepasse",fa_xml_get(vl_c_datas,'motdepasse'));
fa_value_set("tb_blocnotebrut",fa_xml_get(vl_c_datas,'blocnotebrut'));
fa_value_set("tb_interlo",fa_xml_get(vl_c_datas,'interlo'));
fa_value_set("ml_genre",fa_xml_get(vl_c_datas,'genre'));
//fa_mlsel("mlcss",fa_xml_get(vl_c_datas,'css'),"value");

fa_value_set("tb_focus_background_color",fa_xml_get(vl_c_datas,'focus_background_color'));
fa_gid("tb_focus_background_color").inputField.style.backgroundColor=fa_value_get("tb_focus_background_color");

fa_value_set("tb_window_background_color",fa_xml_get(vl_c_datas,'window_background_color'));
fa_gid("tb_window_background_color").inputField.style.backgroundColor=fa_value_get("tb_window_background_color");

fa_value_set("tb_focus_color",fa_xml_get(vl_c_datas,'focus_color'));
fa_gid("tb_focus_color").inputField.style.backgroundColor=fa_value_get("tb_focus_color");

fa_value_set("tb_table_ligne_paire_color",fa_xml_get(vl_c_datas,'table_ligne_paire_color'));
fa_gid("tb_table_ligne_paire_color").inputField.style.backgroundColor=fa_value_get("tb_table_ligne_paire_color");

fa_value_set("tb_table_ligne_impaire_color",fa_xml_get(vl_c_datas,'table_ligne_impaire_color'));
fa_gid("tb_table_ligne_impaire_color").inputField.style.backgroundColor=fa_value_get("tb_table_ligne_impaire_color");

fa_value_set("tb_table_ligne_selectionnee_color",fa_xml_get(vl_c_datas,'table_ligne_selectionnee_color'));
fa_gid("tb_table_ligne_selectionnee_color").inputField.style.backgroundColor=fa_value_get("tb_table_ligne_selectionnee_color");

fa_value_set("tb_activite_background_color",fa_xml_get(vl_c_datas,"activite_background_color"));
fa_gid("tb_activite_background_color").inputField.style.backgroundColor=fa_value_get("tb_activite_background_color");
fa_att_set("tb_page_accueil","_graal_cleunik",fa_xml_get(vl_c_datas,'page_accueil'));
fa_value_set("tb_page_accueil",fa_xml_get(vl_c_datas,'page_accueil_titre'));

fa_mlsel("ml_police_generale",fa_xml_get(vl_c_datas,'police_generale'),"value");
fa_mlsel("selart_ml_zone",fa_xml_get(vl_c_datas,'selection_article'),"value");
fa_mlsel("selact_ml_zone",fa_xml_get(vl_c_datas,'selection_acteur'),"value");
fa_mlsel("selint_ml_zone",fa_xml_get(vl_c_datas,'selection_interlocuteur'),"value");
fa_mlsel("seltel_ml_zone",fa_xml_get(vl_c_datas,'selection_telephone'),"value");
fa_mlsel("selfax_ml_zone",fa_xml_get(vl_c_datas,'selection_fax'),"value");
fa_mlsel("selmel_ml_zone",fa_xml_get(vl_c_datas,'selection_courriel'),"value");
fa_mlsel("selpos_ml_zone",fa_xml_get(vl_c_datas,'selection_postale'),"value");
fa_mlsel("selgeo_ml_zone",fa_xml_get(vl_c_datas,'selection_geophysique'),"value");
fa_mlsel("selweb_ml_zone",fa_xml_get(vl_c_datas,'selection_site'),"value");
fa_mlsel("selnot_ml_zone",fa_xml_get(vl_c_datas,'selection_note'),"value");
fa_mlsel("seldoc_ml_zone",fa_xml_get(vl_c_datas,'selection_document'),"value");
fa_mlsel("sellie_ml_zone",fa_xml_get(vl_c_datas,'selection_pseudodocument'),"value");
fa_mlsel("selaction_ml_zone",fa_xml_get(vl_c_datas,'vl_selection_action'),"value");
fa_mlsel("selaction_ml_fenetre",fa_xml_get(vl_c_datas,'vl_selection_action_fenetre'),"value");


fa_value_set("tb_selart_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selart_nbcaracrech'));
fa_value_set("tb_selact_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selact_nbcaracrech'));
fa_value_set("tb_selint_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selint_nbcaracrech'));
fa_value_set("tb_seltel_nbcaracrech",fa_xml_get(vl_c_datas,'vl_seltel_nbcaracrech'));
fa_value_set("tb_selfax_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selfax_nbcaracrech'));
fa_value_set("tb_selmel_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selmel_nbcaracrech'));
fa_value_set("tb_selpos_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selpos_nbcaracrech'));
fa_value_set("tb_selgeo_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selgeo_nbcaracrech'));
fa_value_set("tb_selweb_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selweb_nbcaracrech'));
fa_value_set("tb_selnot_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selnot_nbcaracrech'));
fa_value_set("tb_seldoc_nbcaracrech",fa_xml_get(vl_c_datas,'vl_seldoc_nbcaracrech'));
fa_value_set("tb_sellie_nbcaracrech",fa_xml_get(vl_c_datas,'vl_sellie_nbcaracrech'));
fa_value_set("ml_modele_recherche_articles",fa_xml_get(vl_c_datas,'vl_modele_recherche_articles'));
fa_value_set("tb_selaction_nbcaracrech",fa_xml_get(vl_c_datas,'vl_selaction_nbcaracrech'));
$graal_02_js_01
}
function bcc_pf_affiche_datas(stream) { //  Affchage critères des acteurs
  var vl_c_datas;
  var vl_c_type_acteurs;
  var vl_e_nombre,vl_e_choix_actif,vl_e_portee;
  pf_raz_fiche();
  vl_c_datas = stream;
  fa_value_set('tb_critere_code',fa_xml_get(vl_c_datas,'critere_code'));
  fa_value_set('tb_critere_denomination',fa_xml_get(vl_c_datas,'critere_denomination'));
  fa_mlsel("bcc_ml_type",fa_xml_get(vl_c_datas,'critere_type'),"value");
  fa_value_set('rdg_actif',fa_xml_get(vl_c_datas,'critere_actif'));
  fa_value_set('tb_blocnotebrut',fa_xml_get(vl_c_datas,'critere_blocnotebrut'));
  fa_value_set('rdg_multiple',fa_xml_get(vl_c_datas,'critere_choixmultiples'));
  fa_value_set('rdg_horsliste',fa_xml_get(vl_c_datas,'critere_hl'));
  fa_value_set('rdg_perso',fa_xml_get(vl_c_datas,'critere_perso'));
  fa_value_set('rdg_codepertinent',fa_xml_get(vl_c_datas,'critere_codechoixpertinent'));
  fa_value_set('la_dateheurecreation',fa_xml_get(vl_c_datas,'critere_dateheurecreation'));
  fa_value_set('la_dateheuremodif',fa_xml_get(vl_c_datas,'critere_dateheuremodification'));
  vf_e_critere_cleunik=fa_xml_get(vl_c_datas,'critere_cleunik');
  vl_e_portee=fa_xml_get(vl_c_datas,'critere_portee');
  fa_att_set("tb_critere_code","_graal_critere_portee",vl_e_portee);
  if ((vl_e_portee &   2) ==   2) {fa_check('ch_n02');}
  if ((vl_e_portee &   4) ==   4) {fa_check('ch_n03');}
  if ((vl_e_portee &   8) ==   8) {fa_check('ch_n04');}
  if ((vl_e_portee &  16) ==  16) {fa_check('ch_n05');}
  if ((vl_e_portee &  32) ==  32) {fa_check('ch_n06');}
  if ((vl_e_portee &  64) ==  64) {fa_check('ch_n07');}
  vf_e_nombre_utilisations=0;
  for (i=1; i<=7; i++){
  	try {
  		vl_e_nombre=fa_xml_get(vl_c_datas,('nombre_utilisations_'+i));
  		vf_e_nombre_utilisations+=vl_e_nombre;
      vl_c_type_acteurs=fa_xml_get(vl_c_datas,('typeacteur_'+i));
  		bcc_pf_affiche_nombre_portee(vl_c_type_acteurs,vl_e_nombre);
  	} catch (e) {
  		vl_e_nombre=0;
  	}
  }
  fa_grise_groupe_oui('broadcaster_01');
}
function bcc_pf_affiche_nombre_portee(vv_c_type_acteurs,vv_e_nombre) {
  switch(vv_c_type_acteurs) {
   case '110001':  fa_check('ch_n02');fa_grise_oui('ch_n02');fa_label('ch_n02',"$vl_c_dico00020 ("+vv_e_nombre+")");fa_att_set('ch_n02',"_graal_nombre",vv_e_nombre);break;
   case '110003':  fa_check('ch_n03');fa_grise_oui('ch_n03');fa_label('ch_n03',"$vl_c_dico00021 ("+vv_e_nombre+")");fa_att_set('ch_n03',"_graal_nombre",vv_e_nombre);break;
   case '110002':  fa_check('ch_n04');fa_grise_oui('ch_n04');fa_label('ch_n04',"$vl_c_dico00022 ("+vv_e_nombre+")");fa_att_set('ch_n04',"_graal_nombre",vv_e_nombre);break;
   case '110004':  fa_check('ch_n05');fa_grise_oui('ch_n05');fa_label('ch_n05',"$vl_c_dico00023 ("+vv_e_nombre+")");fa_att_set('ch_n05',"_graal_nombre",vv_e_nombre);break;
   case '110005':  fa_check('ch_n06');fa_grise_oui('ch_n06');fa_label('ch_n06',"$vl_c_dico00024 ("+vv_e_nombre+")");fa_att_set('ch_n06',"_graal_nombre",vv_e_nombre);break;
   case '110006':  fa_check('ch_n07');fa_grise_oui('ch_n07');fa_label('ch_n07',"$vl_c_dico00025 ("+vv_e_nombre+")");fa_att_set('ch_n07',"_graal_nombre",vv_e_nombre);break;
  }
}
function bcc_interlo_pf_affiche_datas(stream) {//  Affchage critères des acteurs
  var vl_c_datas;
  var vl_c_type_acteurs;
  var vl_e_nombre,vl_e_choix_actif,vl_e_portee;
  pf_raz_fiche();
  vl_c_datas = stream;
  fa_value_set('tb_critere_code',fa_xml_get(vl_c_datas,'critere_code'));
  fa_value_set('tb_critere_denomination',fa_xml_get(vl_c_datas,'critere_denomination'));
  fa_mlsel("bcc_ml_type",fa_xml_get(vl_c_datas,'critere_type'),"value");
  fa_value_set('rdg_actif',fa_xml_get(vl_c_datas,'critere_actif'));
  fa_value_set('tb_blocnotebrut',fa_xml_get(vl_c_datas,'critere_blocnotebrut'));
  fa_value_set('rdg_multiple',fa_xml_get(vl_c_datas,'critere_choixmultiples'));
  fa_value_set('rdg_horsliste',fa_xml_get(vl_c_datas,'critere_hl'));
  fa_value_set('rdg_perso',fa_xml_get(vl_c_datas,'critere_perso'));
  fa_value_set('rdg_codepertinent',fa_xml_get(vl_c_datas,'critere_codechoixpertinent'));
  fa_value_set('la_dateheurecreation',fa_xml_get(vl_c_datas,'critere_dateheurecreation'));
  fa_value_set('la_dateheuremodif',fa_xml_get(vl_c_datas,'critere_dateheuremodification'));
  vf_e_critere_cleunik=fa_xml_get(vl_c_datas,'critere_cleunik');
  vl_e_portee=fa_xml_get(vl_c_datas,'critere_portee');
  fa_att_set("tb_critere_code","_graal_critere_portee",vl_e_portee);
  if ((vl_e_portee &   1) ==   1) {fa_check('ch_n01');}
  if ((vl_e_portee &   2) ==   2) {fa_check('ch_n02');}
  if ((vl_e_portee &   4) ==   4) {fa_check('ch_n03');}
  if ((vl_e_portee &   8) ==   8) {fa_check('ch_n04');}
  if ((vl_e_portee &  16) ==  16) {fa_check('ch_n05');}
  if ((vl_e_portee &  32) ==  32) {fa_check('ch_n06');}
  if ((vl_e_portee &  64) ==  64) {fa_check('ch_n07');}
  vf_e_nombre_utilisations=0;
  for (i=1; i<=7; i++){
  	try {
  		vl_e_nombre=fa_xml_get(vl_c_datas,('nombre_utilisations_'+i));
  		vf_e_nombre_utilisations+=vl_e_nombre;
      vl_c_type_acteurs=fa_xml_get(vl_c_datas,('typeacteur_'+i));
  		bcc_interlo_pf_affiche_nombre_portee(vl_c_type_acteurs,vl_e_nombre);
  	} catch (e) {
  		vl_e_nombre=0;
  	}
  }
}
function bcc_interlo_pf_affiche_nombre_portee(vv_c_type_acteurs,vv_e_nombre) {
  switch(vv_c_type_acteurs) {
    case '110000':  fa_check('ch_n01');fa_grise_oui('ch_n01');fa_label('ch_n01',"$vl_c_dico00019 ("+vv_e_nombre+")");fa_att_set('ch_n01',"_graal_nombre",vv_e_nombre);break;
    case '110001':  fa_check('ch_n02');fa_grise_oui('ch_n02');fa_label('ch_n02',"$vl_c_dico00031 ("+vv_e_nombre+")");fa_att_set('ch_n02',"_graal_nombre",vv_e_nombre);break;
    case '110003':  fa_check('ch_n03');fa_grise_oui('ch_n03');fa_label('ch_n03',"$vl_c_dico00033 ("+vv_e_nombre+")");fa_att_set('ch_n02',"_graal_nombre",vv_e_nombre);break;
    case '110002':  fa_check('ch_n04');fa_grise_oui('ch_n04');fa_label('ch_n04',"$vl_c_dico00032 ("+vv_e_nombre+")");fa_att_set('ch_n02',"_graal_nombre",vv_e_nombre);break;
    case '110004':  fa_check('ch_n05');fa_grise_oui('ch_n05');fa_label('ch_n05',"$vl_c_dico00034 ("+vv_e_nombre+")");fa_att_set('ch_n02',"_graal_nombre",vv_e_nombre);break;
    case '110005':  fa_check('ch_n06');fa_grise_oui('ch_n06');fa_label('ch_n06',"$vl_c_dico00035 ("+vv_e_nombre+")");fa_att_set('ch_n02',"_graal_nombre",vv_e_nombre);break;
    case '110006':  fa_check('ch_n07');fa_grise_oui('ch_n07');fa_label('ch_n07',"$vl_c_dico00036 ("+vv_e_nombre+")");fa_att_set('ch_n02',"_graal_nombre",vv_e_nombre);break;
  }
}
function bcs_pf_affiche_datas(stream) {//  Affchage critères des articles
  var vl_c_datas,vl_c_type_acteurs,vl_e_nombre,vl_e_choix_actif,vl_e_portee;
  pf_raz_fiche();
  vl_c_datas = stream;
  fa_value_set('tb_critere_code',fa_xml_get(vl_c_datas,'critere_code'));
  fa_value_set('tb_critere_denomination',fa_xml_get(vl_c_datas,'critere_denomination'));
  fa_mlsel("bcs_ml_type",fa_xml_get(vl_c_datas,'critere_type'),"value");
  fa_value_set('rdg_actif',fa_xml_get(vl_c_datas,'critere_actif'));
  fa_value_set('tb_blocnotebrut',fa_xml_get(vl_c_datas,'critere_blocnotebrut'));
  fa_value_set('rdg_multiple',fa_xml_get(vl_c_datas,'critere_choixmultiples'));
  fa_value_set('rdg_horsliste',fa_xml_get(vl_c_datas,'critere_hl'));
  fa_value_set('rdg_perso',fa_xml_get(vl_c_datas,'critere_perso'));
  fa_value_set('rdg_codepertinent',fa_xml_get(vl_c_datas,'critere_codechoixpertinent'));
  fa_value_set('la_dateheurecreation',fa_xml_get(vl_c_datas,'critere_dateheurecreation'));
  fa_value_set('la_dateheuremodif',fa_xml_get(vl_c_datas,'critere_dateheuremodification'));
  vf_e_critere_cleunik=fa_xml_get(vl_c_datas,'critere_cleunik');
  vf_e_nombre_utilisations=0;
  for (i=1; i<=7; i++){
  	try {
  		vl_e_nombre=fa_xml_get(vl_c_datas,('nombre_utilisations_'+i));
  		vf_e_nombre_utilisations+=vl_e_nombre;
  	} catch (e) {
  		vl_e_nombre=0;
  	}
  }
}
]]></script>
END;
?>
