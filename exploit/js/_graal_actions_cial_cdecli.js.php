<?php
$vf_c_script_cial_entete="_graal_xml_docial_entete.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&";
$vf_c_script_cial_adresses_01="_graal_xml_docial_adresses_01.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&";
$vf_c_script_cial_adresses_02="_graal_xml_docial_adresses_02.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&";
$vf_c_script_cial_representants="_graal_das_docial_representants.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&";
$vf_c_script_cial_colisage="_graal_das_docial_consignes_01.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&";
$vf_c_script_cial_transporteur="_graal_xml_docial_transporteur.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&";
$vf_c_script_cial_recap_montants="_graal_das_docial_recap_montants.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&vl_action_cleunik=$vl_action_cleunik&";
$vf_c_script_cial_lignes="_graal_das_actions_cial_lignes.php?genreaction=$vl_c_genreaction&vl_commercial_cleunik=$commercial_cleunik&";
$js_bon_preparation="";
$js_confirmation_cdecli="";
$vf_c_script_cial_bonsdepreparation="_graal_das_actions_cial_docciaux.php?vl_action_cleunik=$vl_action_cleunik&vl_type_clair=Bon de préparation&";
$param_generaux_graal_001=intval(fa_recup_session('vs_param_generaux_graal_010','0'));
$param_generaux_graal_002=intval(fa_recup_session('vs_param_generaux_graal_002','0'));
$param_generaux_graal_003=intval(fa_recup_session('vs_param_generaux_graal_003','0'));
$param_generaux_graal_087=intval(fa_recup_session('vs_param_generaux_graal_087',0)); //  Modèle formulaire palette
$param_generaux_graal_180=intval(fa_recup_session('vs_param_generaux_graal_180','-1'));//	Contrôle de la disponibilité automatique sur expédition totale
$param_generaux_graal_181=intval(fa_recup_session('vs_param_generaux_graal_181','-1'));//	Contrôle de la disponibilité automatique sue expédition partielle de ligne
$param_bp00="vl_e_action_cleunik=$vl_action_cleunik&vl_commercial_cleunik=$commercial_cleunik&param_generaux_graal_002=$param_generaux_graal_002&";
$param_bp01="vl_e_action_cleunik=$vl_action_cleunik&vl_commercial_cleunik=$commercial_cleunik&bonprep_cleunik=-1&genre=solde&param_generaux_graal_002=$param_generaux_graal_002&raf_random=";
$param_bp02="vl_e_action_cleunik=$vl_action_cleunik&vl_commercial_cleunik=$commercial_cleunik&bonprep_cleunik=-1&genre=complet&param_generaux_graal_002=$param_generaux_graal_002&raf_random=";
$param_cc00="vl_e_action_cleunik=$vl_action_cleunik&vl_commercial_cleunik=$commercial_cleunik&vl_genre_adresse=1&";
switch ($param_generaux_graal_001) {
  case 1:$vf_c_script_modele_bp="_graal_pdf_bp_modele_001.php?$param_bp00";break;  //  Modele 1 viticulture contenant, millésime, couleur
  case 2:$vf_c_script_modele_bp="_graal_pdf_bp_modele_002.php?$param_bp00";break;  //  Modèle 2 (Classique)
  case 3:$vf_c_script_modele_bp="_graal_pdf_bp_modele_003.php?$param_bp00";break;  //  Modèle 3 (Classique)+ Code barre
  case 4:$vf_c_script_modele_bp="_graal_pdf_bp_modele_004.php?$param_bp00";break;  //  Modele 4 viticulture contenant, millésime, couleur sans le code article
  case 5:$vf_c_script_modele_bp="_graal_pdf_bp_modele_005.php?$param_bp00";break;  //  Modele 5 (Classique sans code) (Gérard de chez Baronnat)
}
switch ($param_generaux_graal_003) {
  case 1:$vf_c_script_modele_conf_cdecli="_graal_pdf_cdecli_confirmation_01.php?$param_cc00";break;  //  Modele 1 (Négoce)
  case 2:$vf_c_script_modele_conf_cdecli="_graal_pdf_cdecli_confirmation_02.php?$param_cc00";break;  //  Modele 1 (Prestations)
  case 3:$vf_c_script_modele_conf_cdecli="_graal_pdf_cdecli_confirmation_03.php?$param_cc00";break;  //  Modele 3 (Négoce pas chiffré)
  case 4:$vf_c_script_modele_conf_cdecli="_graal_pdf_cdecli_confirmation_04.php?$param_cc00";break;  //  Modele 4 (Adresse de livraison à gauche)
  case 5:$vf_c_script_modele_conf_cdecli="_graal_pdf_cdecli_confirmation_05.php?$param_cc00";break;  //  Modele 5
}
$js_confirmation_cdecli=<<<EOT
    case 'confirmation_cdecli':
      pf_cial_pdf("$vf_c_script_modele_conf_cdecli"+"raf_random="+Math.random()+"&");
      break;
    case 'confirmation_cdecli_01':
      pf_cial_pdf("_graal_pdf_cdecli_confirmation_01.php?$param_cc00"+"raf_random="+Math.random()+"$pg");
      break;
    case 'confirmation_cdecli_02':
      pf_cial_pdf("_graal_pdf_cdecli_confirmation_02.php?$param_cc00"+"raf_random="+Math.random()+"$pg");
      break;
    case 'confirmation_cdecli_03':
      pf_cial_pdf("_graal_pdf_cdecli_confirmation_03.php?$param_cc00"+"raf_random="+Math.random()+"$pg");
      break;
    case 'confirmation_cdecli_04':
      pf_cial_pdf("_graal_pdf_cdecli_confirmation_04.php?$param_cc00"+"raf_random="+Math.random()+"$pg");
      break;
     case 'confirmation_cdecli_05':
      pf_cial_pdf("_graal_pdf_cdecli_confirmation_05.php?$param_cc00"+"raf_random="+Math.random()+"$pg");
      break;

EOT;
$js_bon_preparation=<<<EOT
    case 'bonsdepreparation':
      switch (vv_param_02) {
        case 'nouveau_solde':
          vl_c_param="&bonprep_cleunik=-1&genre=solde&"+"raf_random="+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&";
          pf_cial_pdf("$vf_c_script_modele_bp"+vl_c_param);
          break;
        case 'nouveau_complet':
          vl_c_param="&bonprep_cleunik=-1&genre=complet&"+"raf_random="+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&";
          pf_cial_pdf("$vf_c_script_modele_bp"+vl_c_param);
          break;
      }
      break;
    case 'bonsdepreparation_01':  //  Modele 1 viticulture contenant, millésime, couleur
      switch (vv_param_02) {
        case 'nouveau_solde':pf_cial_pdf("_graal_pdf_bp_modele_001.php?$param_bp01"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
        case 'nouveau_complet':pf_cial_pdf("_graal_pdf_bp_modele_001.php?$param_bp02"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
      }
      break;
    case 'bonsdepreparation_02':  //  Modèle 2 (Classique)
      switch (vv_param_02) {
        case 'nouveau_solde':pf_cial_pdf("_graal_pdf_bp_modele_002.php?$param_bp01"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
        case 'nouveau_complet':pf_cial_pdf("_graal_pdf_bp_modele_002.php?$param_bp02"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
      }
      break;
    case 'bonsdepreparation_03':  //  Modèle 3 (Classique)+ Code barre
      switch (vv_param_02) {
        case 'nouveau_solde':pf_cial_pdf("_graal_pdf_bp_modele_003.php?$param_bp01"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
        case 'nouveau_complet':pf_cial_pdf("_graal_pdf_bp_modele_003.php?$param_bp02"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
      }
      break;
    case 'bonsdepreparation_04':  //  Modele 4 viticulture contenant, millésime, couleur sans le code article
      switch (vv_param_02) {
        case 'nouveau_solde':pf_cial_pdf("_graal_pdf_bp_modele_004.php?$param_bp01"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
        case 'nouveau_complet':pf_cial_pdf("_graal_pdf_bp_modele_004.php?$param_bp02"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
      } 
      break;
    case 'bonsdepreparation_05':  //  Modele 5 (Classique sans code)
      switch (vv_param_02) {
        case 'nouveau_solde':pf_cial_pdf("_graal_pdf_bp_modele_005.php?$param_bp01"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
        case 'nouveau_complet':pf_cial_pdf("_graal_pdf_bp_modele_005.php?$param_bp02"+Math.random()+"&param_generaux_graal_087="+fa_enc(fa_mlget("ml_param_generaux_graal_087"))+"&");break;
      } 
      break;
EOT;
$pf_cial_affiche_colisage="pf_cial_affiche_colisage();";
$pf_cial_affiche_representants="pf_cial_affiche_representants();";
$param_generaux_graal_157=intval(fa_recup_session('vs_param_generaux_graal_157',0)); //  Gestion représentants
$param_generaux_graal_158=intval(fa_recup_session('vs_param_generaux_graal_158',0)); //  Gestion colisage
if ($param_generaux_graal_157==2){$pf_cial_affiche_representants="";}
if ($param_generaux_graal_158==2){$pf_cial_affiche_colisage="";}
switch ($type_gestion_doc){
	case 1:
$pf_cial_affiche_transporteur=<<<EOT
function pf_cial_affiche_transporteur(stream){}
EOT;
$pf_cial_affiche_donnees_01="";
$js_bon_preparation="";
		break;
	case 2:
	case 3:
$pf_cial_affiche_transporteur=<<<EOT
function pf_cial_affiche_transporteur(stream){
  var vl_c_datas=stream;
  fa_value_set("tb_pds_net",fa_xml_get(vl_c_datas,"poids_net"));
  fa_value_set("tb_pds_bru",fa_xml_get(vl_c_datas,"poids_bru"));
  fa_value_set("tb_vol_net",fa_xml_get(vl_c_datas,"volum_net"));
  fa_value_set("tb_vol_bru",fa_xml_get(vl_c_datas,"volum_bru"));
  fa_value_set("tb_sur_net",fa_xml_get(vl_c_datas,"surfa_net"));
  fa_value_set("tb_sur_bru",fa_xml_get(vl_c_datas,"surfa_bru"));
  fa_value_set("tb_transporteur",fa_xml_get(vl_c_datas,"nomcommercial"));
  fa_value_set("tb_conditionnement_memo",fa_xml_get(vl_c_datas,"nombre_colis"));
  fa_att_set("tb_transporteur","_graal_cleunik",fa_xml_get(vl_c_datas,"action_trans_cleunik"));
  fa_att_set("tb_transporteur","_act_cleunik",fa_xml_get(vl_c_datas,"act_cleunik_trans"));
}
EOT;
$pf_cial_affiche_donnees_01=<<<EOT
  fa_xmlhttprequest_xml("$vf_c_script_cial_adresses_01"+"raf_random="+Math.random()+"&","",pf_cial_affiche_adresse_livraison);
  fa_xmlhttprequest_xml("$vf_c_script_cial_transporteur"+"raf_random="+Math.random()+"&","",pf_cial_affiche_transporteur);
  fa_mlsel('ml_param_generaux_graal_087','$param_generaux_graal_087');
	$pf_cial_affiche_colisage
EOT;
		break;
}
$pf_cial_affiche_donnees=<<<EOT
function pf_cial_affiche_donnees() {
  pf_cial_entete();
	$pf_cial_affiche_donnees_01
  fa_xmlhttprequest_xml("$vf_c_script_cial_adresses_02"+"raf_random="+Math.random()+"&","",pf_cial_affiche_adresse_facturati);
  pf_cial_affiche_lignes();
  $pf_cial_affiche_representants
  pf_cial_affiche_montants();
  pf_cial_affiche_donnees_bonsdepreparation();
}
function pf_cial_pdf(vv_quoi){
	//fa_ouvre(vv_quoi)
	fa_att_set('iframe_docpdf','src',vv_quoi);
}
function pf_cial_fin_chargement_pdf(){
	//alert("Fin du chargement du pdf");
	pf_cial_affiche_donnees_bonsdepreparation();
}
EOT;
$pf_cial_cdecli_offcli=<<<EOT
function pf_cial_cdecli_offcli() {
  if (confirm("Confirmez-vous la duplication de cette commande en offre?")==false) {return;}
  fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->offcli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_offcli_fin);
}
function pf_cial_cdecli_offcli_fin(stream) {
  var vl_c_datas=stream;
  if (vl_c_datas==-1) {
    alert("Problème lors de la duplication!!");
  } else {
  	pf_affiche_donnees_relations();
    if (confirm("Voulez-vous ouvrir la nouvelle offre ?")==false) {
      return;
    } else {
      var vl_c_donnees="vf_e_action_cleunik="+fa_enc(vl_c_datas)+"&vf_c_action=modifier&genreaction=jenesaispas";
      fa_ouvre(c_cial_fen_action+vl_c_donnees,1000,700);
    }
  }
}
EOT;
$pf_cial_cdecli_cdecli=<<<EOT
function pf_cial_cdecli_cdecli() {
  if (confirm("Confirmez-vous la duplication de cette commande?")==false) {return;}
  fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->cdecli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_cdecli_fin);
}
function pf_cial_cdecli_cdecli_fin(stream) {
  var vl_c_datas=stream;
  if (vl_c_datas==-1) {
    alert("Problème lors de la duplication!!");
  } else {
  	pf_affiche_donnees_relations();
    if (confirm("Voulez-vous ouvrir la nouvelle commande ?")==false) {
      return;
    } else {
      var vl_c_donnees="vf_e_action_cleunik="+fa_enc(vl_c_datas)+"&vf_c_action=modifier&genreaction=jenesaispas";
      fa_ouvre(c_cial_fen_action+vl_c_donnees,1000,700);
    }
  }
}
EOT;
$pf_cial_cdecli_livcli=<<<EOT
function pf_cial_cdecli_livcli() {
  if($param_generaux_graal_180==1) {
	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=verif_dispo_frla&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_verifi_fin);
  } else {
  	if (confirm("Confirmez-vous l'expédition de cette commande?")==false) {return;}
  	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_fin);
  }
}
function pf_cial_cdecli_livcli_fin(stream) {
  var vl_c_datas=stream;
  if (vl_c_datas==-1) {
    alert("Problème lors de l'expédition!!");
  } else {
  	pf_affiche_donnees_relations();
    if (confirm("Voulez-vous ouvrir la nouvelle expédition ?")==false) {
    	window.location=document.location;
      return;
    } else {
      var vl_c_donnees="vf_e_action_cleunik="+fa_enc(vl_c_datas)+"&vf_c_action=modifier&genreaction=jenesaispas";
      fa_ouvre(c_cial_fen_action+vl_c_donnees,1000,700);
      window.location=document.location;
    }
  }
}
function pf_cial_cdecli_livcli_verifi_fin(stream){
	if (fa_se(stream)=="") {
		fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_fin);
	} else {
		if (!confirm(stream+"Souhaitez-vous tout de même expédier ?")) {return;}
		fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_fin);
	}
}
function pf_cial_cdecli_livcli_partielle() {
	if($param_generaux_graal_181==1) {
	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=verif_dispo_frla&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_partielle_verifi_fin);
  } else {
  	if (confirm("Confirmez-vous l'expédition partielle de cette commande?")==false) {return;}
  	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli_partielle&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_partielle_fin);
	}
}
function pf_cial_cdecli_livcli_partielle_verifi_fin(stream){
	if (fa_se(stream)=="") {
		fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli_partielle&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_partielle_fin);
	} else {
		if (!confirm(stream+"Souhaitez-vous tout de même expédier ?")) {return;}
		fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli_partielle&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_partielle_fin);
	}
}
function pf_cial_cdecli_livcli_partielle_fin(stream) {
  var vl_c_datas=stream;
  if (vl_c_datas==-1) {
    alert("Problème lors de l'expédition!!");
  } else {
  	pf_affiche_donnees_relations();
      var vl_c_donnees="vf_e_action_cleunik="+fa_enc(vl_c_datas)+"&vf_c_action=ajoutermodifier&genreaction=jenesaispas&specificite=livcli_partielle&doccialorigine=$commercial_cleunik&";
      fa_ouvre(c_cial_fen_action+vl_c_donnees,1000,700);
    }
  }
EOT;
$pf_cial_cdecli_faccli=<<<EOT
function pf_cial_cdecli_faccli() {
  if (confirm("Confirmez-vous la facturation de cette commande?")==false) {return;}
  fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->faccli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_faccli_fin);
}
function pf_cial_cdecli_faccli_fin(stream) {
  var vl_c_datas=stream;
  if (vl_c_datas==-1) {
    alert("Problème lors de la facturation !!");
  } else {
  	pf_affiche_donnees_relations();
    if (confirm("Voulez-vous ouvrir la nouvelle facture ?")==false) {
    window.location=document.location;
      return;
    } else {
      var vl_c_donnees="vf_e_action_cleunik="+fa_enc(vl_c_datas)+"&vf_c_action=modifier&genreaction=jenesaispas";
      fa_ouvre(c_cial_fen_action+vl_c_donnees,1000,700);
      window.location=document.location;
    }
  }
}
EOT;
$pf_cial_cdecli_livcli_faccli=<<<EOT
function pf_cial_cdecli_livcli_faccli() {
	fa_grise_fenetre("","oui");
  if($param_generaux_graal_180==1) {
	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=verif_dispo_frla&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_faccli_verifi_fin);
  } else {
  	if (confirm("Confirmez-vous l'expédition, puis la facturation de cette commande?")==false) {return;}
  	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_faccli_suite);
  }
  
}
function pf_cial_cdecli_livcli_faccli_verifi_fin(stream){
	if (fa_se(stream)=="") {
		fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_faccli_suite);
	} else {
		if (!confirm(stream+"Souhaitez-vous tout de même expédier ?")) {return;}
		fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=cdecli->livcli&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_livcli_faccli_suite);
	}
}
function pf_cial_cdecli_livcli_faccli_suite(stream) {
  var vl_c_datas=stream;
  if (vl_c_datas==-1) {
    alert("Problème lors de l'expédition");
  } else {
  	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=livcli->faccli&vl_commercial_cleunik=-2&vl_action_cleunik="+fa_enc(vl_c_datas)+"&","",pf_cial_cdecli_livcli_faccli_fin);
  }
}
function pf_cial_cdecli_livcli_faccli_fin(stream) {
  var vl_c_datas=stream;
  if (vl_c_datas==-1) {
    alert("Problème lors de la facturation");
  } else {
  	pf_affiche_donnees_relations();
    if (confirm("Voulez-vous ouvrir la nouvelle facture ?")==false) {
    window.location=document.location;
      return;
    } else {
      var vl_c_donnees="vf_e_action_cleunik="+fa_enc(vl_c_datas)+"&vf_c_action=modifier&genreaction=jenesaispas";
      fa_ouvre(c_cial_fen_action+vl_c_donnees,1000,700);
      window.location=document.location;
    }
  }
}
function pf_cial_cdecli_verifi(){
	fa_xmlhttprequest_txt("_graal_bdope_doc_cial_01.php?vf_c_action=verif_dispo_frla&vl_commercial_cleunik=$commercial_cleunik&","",pf_cial_cdecli_verifi_fin);
}
function pf_cial_cdecli_verifi_fin(stream){
	if (fa_se(stream)==""){
		alert("Commande a priori disponible");
	} else {
		alert(stream);
	}
}
EOT;
$pf_cial_affiche_colisage=<<<EOT
function pf_cial_affiche_colisage() {
  fa_das("arbre_colisage","$vf_c_script_cial_colisage"+"raf_random="+Math.random()+"&");
}
EOT;
$pf_cial_affiche_donnees_bonsdepreparation=<<<EOT
function pf_cial_affiche_donnees_bonsdepreparation() {
  fa_das("arbre_bonsdepreparation","$vf_c_script_cial_bonsdepreparation"+"raf_random="+Math.random()+"&");
}
EOT;
$pf_cial_affiche_representants=<<<EOT
function pf_cial_affiche_representants() {
  fa_das("arbre_representants","$vf_c_script_cial_representants"+"raf_random="+Math.random()+"&");
}
EOT;
$tb_cial_int=$tb_cial_int_02.$tb_cial_int_03.$tb_cial_int_04;
$pf_cial_transformations=$pf_cial_cdecli_offcli.$pf_cial_cdecli_cdecli.$pf_cial_cdecli_livcli.$pf_cial_cdecli_faccli.$pf_cial_cdecli_livcli_faccli;
switch ($vf_c_action) {
  case 'modifier' :
    $vl_c_ini="fa_grise_oui('bt_cial_cdecli_offcli');fa_grise_oui('bt_cial_cdecli_livcli');fa_grise_oui('bt_cial_cdecli_livcli_partielle');fa_grise_oui('bt_cial_cdecli_livcli_faccli');fa_grise_oui('bt_cial_cdecli_faccli');fa_grise_oui('bt_cial_cdecli_offcli');fa_grise_oui('bt_cial_cdecli_cdecli');fa_grise_oui('bt_cial_enregistrer');";
    break; 
  case 'ajoutermodifier' :
    $vl_c_ini="fa_grise_oui('bt_cial_cdecli_livcli');fa_grise_oui('bt_cial_cdecli_livcli');fa_grise_oui('bt_cial_cdecli_livcli_partielle');fa_grise_oui('bt_cial_cdecli_livcli_faccli');fa_grise_oui('bt_cial_cdecli_faccli');fa_grise_oui('bt_cial_cdecli_offcli');fa_grise_oui('bt_cial_cdecli_cdecli');fa_grise_oui('bt_cial_enregistrer');pf_cial_etat_fen('modifier');";
    break;
}
$vl_cial_etat_fen="fa_grise_non('bt_cial_cdecli_livcli');fa_grise_non('bt_cial_cdecli_livcli_faccli');fa_grise_non('bt_cial_cdecli_livcli_partielle');fa_grise_non('bt_cial_cdecli_faccli');fa_grise_non('bt_cial_cdecli_offcli');fa_grise_non('bt_cial_cdecli_cdecli');fa_grise_non('bt_cial_enregistrer');";
?>
