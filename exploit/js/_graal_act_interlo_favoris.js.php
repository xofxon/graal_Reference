<?php
echo <<<END
<script type="application/x-javascript"><![CDATA[
const vf_c_rdf_favoris="_graal_rech_interlo_01.php?vl_c_actifs=4&sortie=das&";
const vf_c_fen_interlo='_graal_fen_act_interlo_02.php?';
const vf_c_script_favoris='_graal_bdope_act_interlo_favoris_01.php';
const c_script_favoris_partage='_graal_fen_favoris_partage_01.php?vf_c_type_favori=5&';
var tree_interlo,vf_e_int_cleunik;
function pf_aa_init() {
  tree_interlo=fa_gid("arbre_interlo_favoris");
  pf_alimente_arbre_favoris();
}
function pf_aa_init_bis() {
  tree_interlo=fa_gid("arbre_interlo_favoris");
  pf_alimente_groupbox_favoris();
}
function pf_alimente_arbre_favoris(){
  fa_das("arbre_interlo_favoris",vf_c_rdf_favoris+"raf_random="+Math.random());
}
function pf_alimente_groupbox_favoris(){
  fa_ds("groupbox_interlo_favoris",'');
  fa_ds("groupbox_interlo_favoris",vf_c_rdf_favoris+"raf_random="+Math.random());
}
function pf_favoris_partager() {
  var vl_c_param;
  vl_c_param="vf_e_cleunik="+vf_e_int_cleunik+"&";
  vl_c_param+="raf_random="+Math.random()+"&";
  fa_ouvre(c_script_favoris_partage+vl_c_param,500,60);
}
function pf_favoris_supprimer() {
  var vl_c_param;
  var raf_random=Math.random();
  vl_c_param="vf_c_action=supprimer&vf_c_quoi=1&";
  vl_c_param+="vl_int_cleunik="+vf_e_int_cleunik+"&";
  vl_c_param+="raf_random="+raf_random+"&";
  fa_xmlhttprequest_xml(vf_c_script_favoris,vl_c_param,pf_favoris_supprimer_fin,'');
}
function pf_favoris_supprimer_fin(stream){
  var vl_datas = stream;
  if (vl_datas!="-1") { pf_alimente_arbre_favoris();alert("Interlocuteur d\'acteur enlevé de vos favoris.");} else {alert('Erreur lors de la suppression de l\interlocuteur d\'acteur de vos favoris !!!');}
}

function pf_sel_arbre_favori(){
  var rowIndex = tree_interlo.currentIndex;
  if(rowIndex == -1){return;}
  var vl_c_typeacteur=tree_interlo.view.getCellText( rowIndex ,tree_interlo.columns.getNamedColumn("typeacteur"));  //  type d'acteur
  var vl_e_int_cleunik=tree_interlo.view.getCellText( rowIndex ,tree_interlo.columns.getNamedColumn("int_cleunik"));  //  Clé unique interlocuteur
  var vl_e_act_cleunik=tree_interlo.view.getCellText( rowIndex ,tree_interlo.columns.getNamedColumn("act_cleunik"));  //  Clé unique acteur
  var vl_c_param="genreacteur="+vl_c_typeacteur+"&";
  vf_e_int_cleunik=vl_e_int_cleunik;
  vl_c_param+='vl_e_interlo_cleunik='+fa_enc(vl_e_int_cleunik)+"&";
  vl_c_param+='vl_e_act_cleunik='+fa_enc(vl_e_act_cleunik)+"&";
  vl_c_param+='raf_random='+Math.random()+"&";
  fa_att_set("iframe_interlo_favoris","src",vf_c_fen_interlo+vl_c_param);
}
]]></script>
END;
?>
