<?php
echo <<<END
/*
********************************************************************************************************************************
**********  Fenêtre des importations des documents de fabrication (_import_apisoft_fen_importation_03.php)                             ********
********************************************************************************************************************************
*/
<script type="application/x-javascript"><![CDATA[
const _c_url_impor_fab="_import_apisoft_actions_fabrications_01.php?";
function pf_etat_fen(vv_quoi){
  switch(vv_quoi)  {
    case "ini":
      break;
    case "sortir":
      window.close();  //  Ne fonctionne que si c'est une nouvelle fenêtre
      break;   
    default:
      break;
  }
}
function pf_importation(vv_quoi){
  var param="";
  var vl_c_base_origine=fa_value_get("c_base_ori");
  var vl_c_base_destination=fa_value_get("c_base_des");
  switch(vv_quoi) {
    case 'fabbon': //  Bon de fabrication
    case 'fabord': //  Ordres de fabrication
      param +="vl_c_base_origine="+vl_c_base_origine+"&";
      param +="vl_c_base_destination="+vl_c_base_destination+"&";
      param +="vl_c_type_doc="+vv_quoi+"&";
			fa_att_set("_graal_trad_objets_01","wait-cursor","true");
  		fa_grise_fenetre("","oui");
      fa_xmlhttprequest_txt(_c_url_impor_fab,param,pf_importation_retour);
      break;
    default:
      alert("Erreur de programmation !!!->'"+vv_quoi+"'<-!!!");
  }
}
function pf_importation_retour(stream){
  var vl_datas = stream;
  fa_att_rem("_graal_trad_objets_01","wait-cursor");
  alert(vl_datas);
	fa_grise_fenetre("","non");
}
]]></script>
END;
