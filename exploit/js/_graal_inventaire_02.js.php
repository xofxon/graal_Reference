<?php
switch ($vl_c_genre) {
  case "saisie": 
$pf_aa_init=<<<EOT
function pf_aa_init(){}
EOT;
  break;  //  Saisie
  case "visual": 
$pf_aa_init=<<<EOT
function pf_aa_init(){
  fa_gid("dk_01").selectedIndex=1;

}
EOT;
  break;  //  Visualisation
}
echo <<<END
<script type="application/x-javascript"><![CDATA[
const vf_c_url_alimente_frame_01="_graal_fen_lignes_inventaire_01.php?";
const c_script_das_lignes_inventaire_01='_graal_das_lignes_inventaire_01.php?';
const c_script_das_lignes_inventaire_02='_graal_das_lignes_inventaire_02.php?';
const c_script_pdf_inventaire_01="_graal_pdf_inventaire_02.php?";
const c_script_pdf_inventaire_02="_graal_pdf_inventaire_03.php?";
$pf_aa_init
function pf_affiche(vv_no) {
  var vl_c_param="raf="+Math.random()+"&vl_e_inv_cleunik="+fa_value_get('ml_inventaire');
  vl_c_param+="&vl_e_etat="+fa_value_get('rdg_etat');
  vl_c_param+="&vl_e_inactifs="+fa_value_get('rdg_inactifs');
  vl_c_param+="&vl_c_zone="+fa_value_get("bbo_ml_zone");
  switch (vv_no) {
    case "0" : 
      fa_gid('dk_02').selectedIndex=0;
      fa_das("arbre_lignes_inventaire_01",c_script_das_lignes_inventaire_01+vl_c_param);
      break;
    case "1" : 
      fa_gid('dk_02').selectedIndex=1;
      fa_das("arbre_lignes_inventaire_02",c_script_das_lignes_inventaire_02+vl_c_param);
      break;
  }
}
function pf_alimente_frame(){
  var param="raf="+Math.random()+"&vl_e_etat="+fa_value_get('rdg_etat')+"&vl_e_inv_cleunik="+fa_value_get('ml_inventaire')+"&"+'&vl_c_zone='+fa_value_get("bbo_ml_zone")+"&vl_dateheureinv="+fa_gid("ml_inventaire").selectedItem.getAttribute("_graal_date_inventaire")+"&vl_e_inactifs="+fa_value_get('rdg_inactifs')+"&vl_b_affichage_critere="+fa_value_get('rdg_critere')+"&";
  fa_att_set("iframe_lignes_inventaires","src",vf_c_url_alimente_frame_01+param);
}
function pf_affiche_detail_lignes_01() {
}
function pf_pdf(vv_no) {
  var vl_c_param="raf="+Math.random()+"&vl_e_inv_cleunik="+fa_value_get('ml_inventaire');
  vl_c_param+="&vl_e_etat="+fa_value_get('rdg_etat');
  vl_c_param+="&vl_e_inactifs="+fa_value_get('rdg_inactifs');
  vl_c_param+="&vl_c_zone="+fa_value_get("bbo_ml_zone");
  switch (vv_no) {
    case "0" : fa_ouvre(c_script_pdf_inventaire_01+vl_c_param);break;
    case "1" : fa_ouvre(c_script_pdf_inventaire_02+vl_c_param);break; 
  }
}
]]></script>
END;
?>
