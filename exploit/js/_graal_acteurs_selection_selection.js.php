<?php
echo <<<END
<script type="application/x-javascript"><![CDATA[
var vf_c_url_alimente_table;
const vf_c_script_act='_graal_rech_acteurs_01.php?&var=vs_tempo_panier_acteur&';
const vf_c_script_fen_acteur="_graal_fen_acteurs_01.php?genreacteur=";
function pf_aa_init(){
  fa_att_set("arbre_des_acteurs",'context','pop_selections');
  fa_att_rem("arbre_des_acteurs",'onselect');
  fa_ael("bao_ml_qui","ValueChange",po_change_menu);
  po_change_menu();
  pf_approximatif();
}
function pf_acteur_ouvre() {
alert(coucu)
  var rowIndex = fa_cui("arbre_des_acteurs");if(rowIndex == -1){return;}
  var param=fa_cell_get("arbre_des_acteurs",rowIndex,"act_cleunik")+"&genreacteur="+fa_cell_get("arbre_des_acteurs",rowIndex,"typeacteur");
  fa_ouvre_acteur(param);
}
function pf_alimente_table() {
  switch (fa_value_get("bao_ml_qui")) {
    case "000000": case "110001": case "110003": case "110002": case "110004": case "110005": case "110006":
      fa_cache_oui("portee");break;
    case "999999": case "888888": case "666666":
      fa_cache_non("portee");break;
  }
  fa_das("arbre_des_acteurs",vf_c_url_alimente_table);
}
function pf_etat_fen(vv_quoi){
  switch (vv_quoi) {
    case 'sortir' :
      close();
      break;
    case 'renvoyer' :
      var i= fa_cui("arbre_des_acteurs");if(i== -1){alert("$vl_c_00001");return;}
      var vl_e_act_cleunik=fa_cell_get("arbre_des_acteurs",i,"act_cleunik");
      var vl_c_raisonsoc=fa_cell_get("arbre_des_acteurs",i,"raisonsoc");
      var vl_c_typeacteur=fa_cell_get("arbre_des_acteurs",i,"typeacteur");
      window.opener.$vl_c_proc_retour(vl_e_act_cleunik,vl_c_raisonsoc,vl_c_typeacteur);
      close();
      break;
  }
}

function pf_approximatif() {
  if ( fa_value_get("aai_tb_rechapproxima") == "" ) {return;};
  item=fa_gid("bao_ml_actif").selectedItem;
  vf_c_url_alimente_table=vf_c_script_act+'sortie=das&vl_c_limit='+fa_enc(fa_value_get("bao_tb_limit"))+'&listecles=&vl_c_recherche='+fa_enc(fa_value_get("aai_tb_rechapproxima"))+'&vl_c_zone='+fa_value_get("aai_ml_zone")+'&vl_c_type='+fa_value_get("aai_ml_type")+'&vl_c_qui='+fa_value_get("bao_ml_qui")+'&raf_random='+Math.random()+'&vl_c_actifs='+fa_value_get("bao_ml_actif")+'&vl_e_panier='+item.getAttribute("_graal_cleunik")+"&";
  pf_alimente_table();
}
function pf_sel_ligne(){
  var i=fa_cui("arbre_des_acteurs");if(i==-1){return;}
  var vl_e_act_cleunik=fa_cell_get("arbre_des_acteurs",i,"act_cleunik");
  var vl_c_raisonsoc=fa_cell_get("arbre_des_acteurs",i,"raisonsoc");
  try {
  	window.opener.pf_sel_acteur(vl_e_act_cleunik,vl_c_raisonsoc);
  } catch (e) {
  }
}
]]></script>
END;
?>
