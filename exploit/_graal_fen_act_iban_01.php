<?php
include("_graal_header_xul.inc.php");
$vl_e_uti_cleunik =intval(fa_recup_session("vs_uti_cleunik","0"));
$vl_c_genreacteur=fa_recup_param('genreacteur','0');
$vl_e_act_cleunik=intval(fa_recup_param("vl_e_act_cleunik","-1"));
$vl_e_iban_cleunik=intval(fa_recup_param("vl_e_iban_cleunik","-1"));
$vl_e_genreiban=fa_recup_param('genreiban','0');
switch ($vl_c_genreacteur){
	case "110001": $vl_c_id_fenetre="Fen_00756";break;  //  IBAN des prospects clients
  case "110003": $vl_c_id_fenetre="Fen_00354";break;  //  IBAN des clients
  case "110004": $vl_c_id_fenetre="Fen_00355";break;  //  IBAN des fournisseurs
  default: die;  
}
switch ($vl_e_genreiban) {
  case "121500":	//	France
    $vl_e_max_info=27;
    $vl_e_max_01=4;$vl_e_max_02=4;$vl_e_max_03=4;$vl_e_max_04=4;$vl_e_max_05=4;$vl_e_max_06=4;$vl_e_max_07=3;$vl_e_max_08=0;$vl_e_max_09=0;$vl_e_max_10=0;
    $vl_e_hidden_01='false';$vl_e_hidden_02='false';$vl_e_hidden_03='false';$vl_e_hidden_04='false';$vl_e_hidden_05='false';$vl_e_hidden_06='false';$vl_e_hidden_07='false';$vl_e_hidden_08='true';$vl_e_hidden_09='true';$vl_e_hidden_10='true';
    $vl_c_sui_01="tb_z02";$vl_c_sui_02="tb_z03";$vl_c_sui_03="tb_z04";$vl_c_sui_04="tb_z05";$vl_c_sui_05="tb_z06";$vl_c_sui_06="tb_z07";$vl_c_sui_07="";$vl_c_sui_08="";$vl_c_sui_09="";$vl_c_sui_10="";
    break;
  case "121625":	//	Lituanie
    $vl_e_max_info=0;
    $vl_e_max_01=2;$vl_e_max_02=2;$vl_e_max_03=5;$vl_e_max_04=11;$vl_e_max_05=4;$vl_e_max_06=4;$vl_e_max_07=3;$vl_e_max_08=0;$vl_e_max_09=0;$vl_e_max_10=0;
    $vl_e_hidden_01='false';$vl_e_hidden_02='false';$vl_e_hidden_03='false';$vl_e_hidden_04='false';$vl_e_hidden_05='true';$vl_e_hidden_06='true';$vl_e_hidden_07='true';$vl_e_hidden_08='true';$vl_e_hidden_09='true';$vl_e_hidden_10='true';
    $vl_c_sui_01="tb_z02";$vl_c_sui_02="tb_z03";$vl_c_sui_03="tb_z04";$vl_c_sui_04="";$vl_c_sui_05="";$vl_c_sui_06="";$vl_c_sui_07="";$vl_c_sui_08="";$vl_c_sui_09="";$vl_c_sui_10="";
    break;
  default: die;
}
$vl_tb_droits=_graal_requete_droits_fenetre($vl_c_id_fenetre,$vl_e_uti_cleunik);if ($vl_tb_droits[0]==false) {fa_redirige("acces_interdit");}
$vl_tb_droits[1]=0; //  On n'affiche pas le bouton "ajouter"
$vl_tb_droits[5]=0; //  On n'affiche pas le bouton "dÃ©tailler"
$vl_b_ajout=$vl_tb_droits[1];$vl_b_modif=$vl_tb_droits[2];$vl_b_suppr=$vl_tb_droits[3];$vl_b_impri=$vl_tb_droits[4];$vl_b_detai=$vl_tb_droits[5];
_graal_requete_charge_varlib($vl_c_id_fenetre,$vl_e_uti_cleunik);$vl_c_graal_cp00=fa_cree_graal_cp00($vl_c_id_fenetre);
$vl_c_beh_100=fa_recup_dico("beh_100");
$vl_c_beh_101=fa_recup_dico("beh_101");
$vl_c_beh_102=fa_recup_dico("beh_102");
$vl_c_beh_103=fa_recup_dico("beh_103");
//  On recherche les informations sur l'acteur 
if ($vl_e_act_cleunik!=-1){$vl_c_qui=_graal_requete_acteur($vl_e_act_cleunik);}
include("_graal_header_winxul.inc.php"); 
echo <<<END
<window _graal_genreiban="$vl_e_genreiban" context="graal_cp00" _graal_genreacteur="$vl_c_genreacteur" title="$vl_c_beh_100" id="_win_fen_act_iban" onload="fa_aa(this);pf_aa_init();" $c_xmlns>
$vl_c_graal_cp00
END;
include("_graal_visites.inc.php");
include_once("js/_graal_01.js.php");
include("js/_graal_act_iban_01.js.php");
echo <<<END
<broadcasterset><broadcaster id="broadcaster_01" /></broadcasterset>
<vbox flex="1">
  <description>$vl_c_qui</description>
  <grid>
    <columns flex="1">
      <column/>
      <column flex="1"/>
    </columns>
    <rows flex="1">
      <row flex= "1">
        <label control="la_refdom" value="$vl_c_beh_101"/>
        <hbox flex= "1">
          <textbox flex="1" observes="broadcaster_01" maxlength="50" id="tb_bic"  />
        </hbox>
      </row>
      <row flex= "1">
        <label control="la_rib" value="$vl_c_beh_102"/>
        <hbox flex= "1">
          <textbox flex= "1" observes="broadcaster_01" id="tb_z01" _graal_suivant="$vl_c_sui_01" maxlength="$vl_e_max_01" hidden="$vl_e_hidden_01" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z02" _graal_suivant="$vl_c_sui_02" maxlength="$vl_e_max_02" hidden="$vl_e_hidden_02" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z03" _graal_suivant="$vl_c_sui_03" maxlength="$vl_e_max_03" hidden="$vl_e_hidden_03" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z04" _graal_suivant="$vl_c_sui_04" maxlength="$vl_e_max_04" hidden="$vl_e_hidden_04" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z05" _graal_suivant="$vl_c_sui_05" maxlength="$vl_e_max_05" hidden="$vl_e_hidden_05" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z06" _graal_suivant="$vl_c_sui_06" maxlength="$vl_e_max_06" hidden="$vl_e_hidden_06" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z07" _graal_suivant="$vl_c_sui_07" maxlength="$vl_e_max_07" hidden="$vl_e_hidden_07" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z08" _graal_suivant="$vl_c_sui_08" maxlength="$vl_e_max_08" hidden="$vl_e_hidden_08" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z09" _graal_suivant="$vl_c_sui_09" maxlength="$vl_e_max_09" hidden="$vl_e_hidden_09" oninput="pf_gere_suivant(this)"  />
          <textbox flex= "1" observes="broadcaster_01" id="tb_z10" _graal_suivant="$vl_c_sui_10" maxlength="$vl_e_max_10" hidden="$vl_e_hidden_10" oninput="pf_gere_suivant(this)"  />
        </hbox>
      </row>
      <row flex= "1">
        <label control="la_info" value="$vl_c_beh_103"/>
        <hbox flex= "1">
          <textbox flex="1" id="tb_info" readonly="true" />
        </hbox>
      </row>
    </rows>
  </grid>
      <hbox flex="1" id="boutons_standards" >
END;
include("_graal_inc_boutons_01.php");
echo <<<END
  </hbox>
</vbox>
</window>
END;
?>

