<?php
//require("_graal_header_pdf.inc.php");
require('_graal_header_pdf_02.inc.php');
      $vl_c_bpl_101="Bon de préparation";
      //  Rien à éditer
      $pdf = new _graal_TCPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true);
      //$pdf = new INVOICE(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true);  
      $pdf->SetCreator(PDF_CREATOR);
      $pdf->SetHeaderData("", 0,"", $data_entete);
      $pdf->setPrintFooter(false);
    	
      $pdf->SetMargins(PDF_MARGIN_LEFT, PDF_MARGIN_TOP, PDF_MARGIN_RIGHT);

//$pdf->SetMargins(5,15, 5);
//set auto page breaks
$pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);
$pdf->SetAutoPageBreak(TRUE, 10);
$pdf->SetHeaderMargin(PDF_MARGIN_HEADER);
//$pdf->SetFooterMargin(PDF_MARGIN_FOOTER);
$pdf->SetFooterMargin(5);
$pdf->setImageScale(PDF_IMAGE_SCALE_RATIO); //set image scale factor
$pdf->setHeaderFont(Array(PDF_FONT_NAME_MAIN, '', PDF_FONT_SIZE_MAIN));
$pdf->setFooterFont(Array(PDF_FONT_NAME_DATA, '', PDF_FONT_SIZE_DATA));
$pdf->setLanguageArray($l); //set language items
$pdf->SetFont("FreeSerif", "", 12);
$_hl=6;// Hauteur ligne
//$pdf->_gf();  //  Fond des cellule avec des bords grisé
$pdf->SetLineWidth(0.01);  //  Cadre invisible
//initialize document
$pdf->AliasNbPages();
/*
      $pdf->SetFont('vera','B',50);
    	$pdf->AddPage();
    	$pdf->SetTextColor(203,203,203);
    	$pdf->Rotate(55,10,290);
    	$pdf->Text(10,290,"            ".$vl_c_bpl_101);
    	$pdf->Rotate(0);
    	$pdf->SetTextColor(0,0,0);
*/
      $pdf->AddPage();






      $pdf->SetFont('vera','B',50);
    	$pdf->SetTextColor(203,203,203);
    	$pdf->Rotate(55,10,290);
    	$pdf->Text(10,290,"            ".$vl_c_bpl_101);
    	$pdf->Rotate(0);
    	$pdf->SetTextColor(0,0,0);
    	$pdf->SetFont( "FreeSerif", "B", 14);




      $pdf->_graal_pdf_cadre_01($contenu="C7000404",$legende="Bon de commande",$colonne=10,$ligne=20,$largeur=50,$hauteur=20,"0011");
      $pdf->_graal_pdf_cadre_01($contenu="Madame Carillan",$legende="Client",$colonne=65,$ligne=20,$largeur=90,$hauteur=20,'0000');
      $pdf->_graal_pdf_cadre_01($contenu="22/05/2007",$legende="Date de départ",$colonne=10,$ligne=45,$largeur=50,$hauteur=20,'0011');
      $pdf->_graal_pdf_cadre_01($contenu="Baronnat",$legende="Transporteur",$colonne=65,$ligne=45,$largeur=90,$hauteur=20,'0000');
      $pdf->_graal_pdf_cadre_01($contenu="PC-00001",$legende="N° de bon",$colonne=160,$ligne=20,$largeur=45,$hauteur=45,'1100');

    	
      $pdf->_graal_pdf_cadre_00($contenu="Bon de commande : C7000404",$colonne=10,$ligne=90,$largeur=30,$hauteur=10,"1111","DF");
      $pdf->SetY(70);
      $pdf->Cell(0, 10, "TEST CELL STRETCH: scaling", 1, 1, 'C', 0, '', 1);



/*
{
    $num = "000001";
    $r1  = $pdf->getPageWidth() - 80;
    $r2  = $r1 + 68;
    $y1  = 6;
    $y2  = $y1 + 2;
    $mid = ($r1 + $r2 ) / 2;
    
    $texte  = "Bon de préparation N° : " . $num;    
    $szfont = 12;
    $loop   = 0;
    
    while ( $loop == 0 )
    {
       $pdf->SetFont( "FreeSerif", "B", $szfont );
       $sz = $pdf->GetStringWidth( $texte );
       if ( ($r1+$sz) > $r2 )
          $szfont --;
       else
          $loop ++;
    }

    $pdf->SetLineWidth(0.1);
    $pdf->SetFillColor(192);
    $pdf->RoundedRect($r1, $y1, ($r2 - $r1), $y2, 2.5, 'DF');
    $pdf->SetXY( $r1+1, $y1+2);
    $pdf->Cell($r2-$r1 -1,5, $texte, 0, 0, "C" );
}
*/


      $pdf->Output();

?>
