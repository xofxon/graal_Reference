<?php
include("_graal_header_xul.inc.php");
/*
****************************************************************
**********  WAA Fenêtre d'administration de base de données Mysql    ********
****************************************************************
*/
$vl_e_type=intval(fa_recup_param('vl_e_type','1'));  //  fenêtres par défaut
$vl_c_id_fenetre="Fbd_00001";$vl_c_id_inc_mysql_objets_01="Dbd_00001";$vl_c_id_inc_reqperso_02="Fen_00104";
$vl_c_win_id="win_fen_bd_sqlmanager";
$vl_e_uti_cleunik =intval(fa_recup_session('vs_uti_cleunik','0'));
$vl_tb_droits=_graal_requete_droits_fenetre($vl_c_id_fenetre,$vl_e_uti_cleunik);
$vl_b_acces=$vl_tb_droits[0];
if ($vl_b_acces==false) {fa_redirige("acces_interdit");}
_graal_requete_charge_varlib($vl_c_id_fenetre,$vl_e_uti_cleunik);
$vl_c_waa_100=fa_recup_dico("waa_100");
$vl_c_waa_101=fa_recup_dico("waa_101");
$vl_c_waa_102=fa_recup_dico("waa_102");
$vl_c_waa_103=fa_recup_dico("waa_103");
$vl_c_waa_104=fa_recup_dico("waa_104");
$vl_c_waa_105=fa_recup_dico("waa_105");
$vl_c_waa_106=fa_recup_dico("waa_106");
$vl_c_waa_107=fa_recup_dico("waa_107");
$vl_c_waa_108=fa_recup_dico("waa_108");
$vl_c_waa_109=fa_recup_dico("waa_109");
$vl_c_waa_110=fa_recup_dico("waa_110");
$vl_c_waa_111=fa_recup_dico("waa_111");
$vl_c_waa_112=fa_recup_dico("waa_112");
$vl_c_waa_113=fa_recup_dico("waa_113");
$vl_c_waa_114=fa_recup_dico("waa_114");
$vl_c_waa_115=fa_recup_dico("waa_115");
$vl_c_waa_116=fa_recup_dico("waa_116");
$vl_c_waa_117=fa_recup_dico("waa_117");
$vl_c_waa_118=fa_recup_dico("waa_118");
$vl_c_waa_119=fa_recup_dico("waa_119");
$vl_c_waa_120=fa_recup_dico("waa_120");
$vl_c_waa_121=fa_recup_dico("waa_121");
$vl_c_waa_122=fa_recup_dico("waa_122");
$vl_c_graal_cp00=fa_cree_graal_cp00($vl_c_win_id);
$css_bd='<?xml-stylesheet href="css/_admin_bd_sqlmanager.css" type="text/css"?>';
include("_graal_header_winxul.inc.php");
echo <<<END
$css_bd
<window _graal_id_overlay_01="$vl_c_id_ove01" _graal_id_fenetre="$vl_c_id_fenetre" context="graal_cp00" id="$vl_c_win_id" title="$vl_c_waa_102" _graal_type="$vl_e_type" onload="fa_aa(this);pf_aa_init()" $c_xmlns>
$vl_c_graal_cp00
END;
include_once("js/_graal_01.js.php");
include("js/_admin_bd_sqlmanager.js.php");
echo <<<END
<popupset>
  <popup id="waa_cp01">
  <menuitem label="$vl_c_waa_101" oncommand="pf_edite_req(1);"/>
  <menuitem label="$vl_c_waa_102" oncommand="pf_edite_req(0);"/>
  </popup>
</popupset>
<hbox flex="1">
END;
include("_admin_inc_mysql_objets_01.php");
echo <<<END
        <splitter/>
        <vbox flex="2">
            <toolbar >
                <label id="la01" style="font-family:verdana; font-size:1em; font-weight:bold;">Table - ????</label>
                <toolbarseparator/>
                <toolbarbutton class="aa03" label="Raf" oncommand="alert('Bonjour le monde');"/>
            </toolbar>
            <hbox>
              <label value="$vl_c_waa_103"/>
              <textbox id="tb_prefixe_appli" value="_graal_" />
            </hbox>
            <vbox>
                <caption id="ca_actions" label="$vl_c_waa_104" />
                <listbox context="waa_cp01" id="li_actions" ondblclick="pf_execute();" rows="15">
                  <listhead>
                    <listheader label="$vl_c_waa_105" />
                    <listheader label="$vl_c_waa_106" />
                  </listhead>
                  <listcols>
            	     <listcol flex="1"/>
                   <listcol flex="1"/>
                  </listcols>
                </listbox>
            </vbox>
          <splitter />
          <tabbox flex="1"  orient="horizontal" dir="reverse">
            <tabpanels id="tabpan_01" flex="1" >
              <tabpanel>
                <textbox id="sqleditor" multiline="true" flex="1" value="plan 1" style="font-family:courier new;font-size:1.2em;"/>
              </tabpanel>
              <tabpanel>
                <tree id="treeStructure" flex="1" hidecolumnpicker="true" seltype="single">
                  <treecols>
                    <treecol id="colname" flex="4" label="$vl_c_waa_107" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="coltype" flex="2" label="$vl_c_waa_108" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="colcoll" flex="1" label="$vl_c_waa_109" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="colnull" flex="1" label="$vl_c_waa_110" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="colkeys" flex="1" label="$vl_c_waa_111" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="coldefs" flex="2" label="$vl_c_waa_112" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="colextr" flex="2" label="$vl_c_waa_113" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="colpriv" flex="2" label="$vl_c_waa_114" /><splitter class="tree-splitter" resizeafter="grow"/>
                    <treecol id="colcomm" flex="2" label="$vl_c_waa_115" /><splitter class="tree-splitter" resizeafter="grow"/>
                  </treecols>
                  <treechildren id="treeFields">
                  </treechildren>
                </tree>
              </tabpanel>
              <tabpanel>
                <iframe onload="event.stopPropagation();" id="viewarea" flex="1" src=""/>
              </tabpanel>
END;
include("_graal_inc_req_perso_02.php");
echo <<<END
              <tabpanel>
                <tabbox flex="1"  orient="horizontal" dir="reverse">
                  <tabs  orient="vertical" class="tabs-left">
                    <tab label="$vl_c_waa_116" class="tabs-left"/>
                    <tab label="$vl_c_waa_117" class="tabs-left" />
                    <tab label="$vl_c_waa_118" class="tabs-left" />
                    <tab label="$vl_c_waa_119" class="tabs-left"/>
                    <tab label="$vl_c_waa_120" class="tabs-left" />
                    <tab label="$vl_c_waa_121" class="tabs-left" />
                    <tab hidden="true" label="$vl_c_waa_122" class="tabs-left" />
                  </tabs>
                  <tabpanels id="tabpan_02" flex="1" >
                    <tabpanel>
                      <textbox id="sqel_01" multiline="true" flex="1" value="sqel_01" style="font-family:courier new;font-size:1.2em;"/>
                    </tabpanel>
                    <tabpanel>
                      <textbox id="sqel_02" multiline="true" flex="1" value="sqel_02" style="font-family:courier new;font-size:1.2em;"/>
                    </tabpanel>
                    <tabpanel>
                      <textbox id="sqel_03" multiline="true" flex="1" value="sqel_03" style="font-family:courier new;font-size:1.2em;"/>
                    </tabpanel>
                    <tabpanel>
                      <textbox id="sqel_04" multiline="true" flex="1" value="sqel_04" style="font-family:courier new;font-size:1.2em;"/>
                    </tabpanel>
                    <tabpanel>
                      <textbox id="sqel_05" multiline="true" flex="1" value="sqel_05" style="font-family:courier new;font-size:1.2em;"/>
                    </tabpanel>
                    <tabpanel>
                      <textbox id="sqel_06" multiline="true" flex="1" value="sqel_06" style="font-family:courier new;font-size:1.2em;"/>
                    </tabpanel>
                    <tabpanel>
                      <textbox id="sqel_07" multiline="true" flex="1" value="sqel_07" style="font-family:courier new;font-size:1.2em;"/>
                    </tabpanel>
                  </tabpanels>
                </tabbox>
              </tabpanel>
            </tabpanels>
          </tabbox>
        </vbox>
    </hbox>
</window>
END;
?>
