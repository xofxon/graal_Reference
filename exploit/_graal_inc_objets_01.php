<?php
_graal_requete_charge_varlib($vl_c_id_inc_objets,$vl_e_uti_cleunik);
$vl_c_aar_001=fa_recup_dico("aar_001");
$vl_c_aar_002=fa_recup_dico("aar_002");
$vl_c_aar_003=fa_recup_dico("aar_003");
$vl_c_aar_005=fa_recup_dico("aar_005");
$vl_c_aar_006=fa_recup_dico("aar_006");
$vl_b_prefixe_hidden="false";
$vl_b_source_hidden="false";
switch ($vl_c_id_inc_objets) {
  case "Div_00008": // Dictionnaire
  case "Div_00342": //  Règles
  case "Div_00006": //  Droits d'accès fenêtres
  case "Div_00007": //  Droits d'accès traitements
  case "Div_00010": // Traitement
  case "Div_00030": // Traitement
  case "Div_00480": // Objets constitutifs d'une fenêtre
    $vl_b_prefixe_hidden="true";
    $vl_b_source_hidden="true";
    break;  
}  
echo <<<END
	<popupset>
	<popup id="aar_cp01">
  		<menuitem class="menuitem-iconic ad09" label="$vl_c_dico_00106" oncommand="fa_infos_colonnes_arbre_recup('$vl_c_id_fenetre','arbre_des_objets');" />
  		$pop_complement_aar_cp01
  	</popup>
  	</popupset>
  <vbox id="aar_fenetres_01" flex="10" >
    <tree tooltiptext="$vl_c_aar_005" id="arbre_des_objets" enableColumnDrag="true" flex="1" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(this.id);" context="aar_cp01">
     <treecols>
       <treecol id="fen_cleunik" hidden="true" ignoreincolumnpicker="true" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="titre" label="$vl_c_aar_001" sort="?titre" sortActive="true" sortDirection="descending"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="descriptif" label="$vl_c_aar_003" sort="?descriptif"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol hidden="$vl_b_prefixe_hidden" ignoreincolumnpicker="$vl_b_prefixe_hidden" id="prefixe" label="$vl_c_aar_002" sort="?prefixe"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol hidden="$vl_b_source_hidden" ignoreincolumnpicker="$vl_b_source_hidden" id="source" label="$vl_c_aar_006" sort="?source"/><splitter class="tree-splitter" resizeafter="grow"/>
     </treecols>
     <template><query expr="*"/><action>
       <treechildren>
         <treeitem uri="?" seltype="single">
           <treerow>
             <treecell label="?fen_cleunik"/>
             <treecell label="?titre"/>
             <treecell label="?descriptif"/>
             <treecell label="?prefixe"/>
             <treecell label="?source"/>
           </treerow>
         </treeitem>
       </treechildren>
     </action></template>
   </tree>
   </vbox>
END;
?>
