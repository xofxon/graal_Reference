<?php
include("_graal_header_xul.inc.php");
include ("_graal_brik_menulist_categories_compta.php");
$vl_e_uti_cleunik =intval(fa_recup_session('vs_uti_cleunik','0'));
$vl_c_id_fenetre="Fen_01149";$vl_c_id_article_recherche="Div_00206";$vl_c_id_inc_infos_critere_choix_01="Div_00344";
$vl_tb_droits=_graal_requete_droits_fenetre($vl_c_id_fenetre,$vl_e_uti_cleunik);$vl_b_acces=$vl_tb_droits[0];if ($vl_b_acces==false) {fa_redirige("acces_interdit");}
$vl_c_type_article_recherche="16";
_graal_requete_charge_varlib($vl_c_id_fenetre,$vl_e_uti_cleunik);$vl_c_graal_cp00=fa_cree_graal_cp00($vl_c_id_fenetre);
$vl_c_bdl_100=fa_recup_dico("bdl_100");
$vl_c_bdl_101=fa_recup_dico("bdl_101");
$vl_c_bdl_103=fa_recup_dico("bdl_103");
$vl_c_bdl_104=fa_recup_dico("bdl_104");
$vl_c_bdl_105=fa_recup_dico("bdl_105");
$vl_c_bdl_106=fa_recup_dico("bdl_106");
$vl_c_bdl_108=fa_recup_dico("bdl_108");
$vl_c_bdl_109=fa_recup_dico("bdl_109");
$vl_c_bdl_110=fa_recup_dico("bdl_110");
$vl_c_bdl_111=fa_recup_dico("bdl_111");
$vl_c_dico_00106=fa_recup_dico("dico_00106");
include("_graal_header_winxul.inc.php");
echo <<<END
<window id="_win_traitements_articles_01" onload="fa_aa(this);pf_aa_init()" old_onunload="pf_aa_ferme();" $c_xmlns>
$vl_c_graal_cp00
END;
echo <<<END
<popupset>
  <popup id="pop_selections">
  <menuitem class="menuitem-iconic ad09" label="$vl_c_dico_00106" oncommand="fa_infos_colonnes_arbre_recup('$vl_c_id_fenetre','arbre_des_articles');" />
  <menuitem label="$vl_c_bdl_109" oncommand="" />
  <menuitem class="menuitem-iconic ak11" label="$vl_c_bdl_111" oncommand="pf_panier_ajoute();" />
  <menuitem class='menuitem-iconic ai07' label="$vl_c_bdl_110" oncommand='pf_article_ouvre();' />
  <menuitem tooltiptext ="$vl_c_bdl_103" collapsed="true" id="bt_voir_panier" label="$vl_c_bdl_103" oncommand="pf_voir_deck(1)" />
  </popup>
</popupset>
  <popupset>
    <popup id="pop_panier">
      <menuitem class="menuitem-iconic ad09" label="$vl_c_dico_00106" oncommand="fa_infos_colonnes_arbre_recup('$vl_c_id_fenetre','arbre_des_articles_panier');" />
      <menuitem label="$vl_c_bdl_108" oncommand="" />
      <menuitem class="menuitem-iconic ak12" label="$vl_c_bdl_106" oncommand="pf_panier_enleve();"/>
      <menuitem class="menuitem-iconic ak13" label="$vl_c_t03" oncommand="pf_valide_danspanier();"/>
      <menuseparator />
    </popup>
  </popupset>
END;
include("_graal_visites.inc.php");
include_once("js/_graal_01.js.php");
include("js/_graal_articles_traitements_06.js.php");
include("js/_graal_articles_selection_01.js.php");
echo('<deck id="deck_articles" selectedIndex="0" flex="1">');
echo('<vbox flex="1">');
include("_graal_inc_articles_recherche_01.php");
$ml_categorie_compta=fa_brik_menulist_categorie_compta("1","ml_categorie_compta",true,$exception);
$ml_tva=fa_brik_menulist_tva("1","ml_tva",true,$exception);
$ml_tva_new=fa_brik_menulist_tva("1","ml_tva_new",true,$exception);
echo <<<END
<hbox>
$ml_categorie_compta
$ml_tva
</hbox>
<vbox id="arbre_articles_01" flex="2" class='overflow_01'>
<tree id="arbre_des_articles" onclick="pf_sel_arbre_articles();" enableColumnDrag="true" flex="1" flags="" ref="*" querytype="xml" datasources="" seltype="single" context="pop_selections">
<treecols>
 <treecol id="code$vl_c_complement_nom" sort="?code" label="$vl_c_bbo_011" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="mnemotech$vl_c_complement_nom" sort="?mnemotechnique" label="$vl_c_bbo_012" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol hidden="true" id="art_cleunik$vl_c_complement_nom" ignoreincolumnpicker="true" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="description$vl_c_complement_nom" sort="?description" label="$vl_c_bbo_013" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="denomination_tva$vl_c_complement_nom" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="code_tva$vl_c_complement_nom" sort="?code_tpf" label="$vl_c_bbo_013" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol hidden="true" id="tpf_cleunik$vl_c_complement_nom" ignoreincolumnpicker="true"/><splitter class="tree-splitter" resizeafter="grow"/>
 
 
 </treecols>
 <template><query expr="*"/><action>
 <treechildren>

 <treeitem container="true" uri="?" seltype="single">
 <treerow>
 <treecell properties="?properties" label="?code"/>
 <treecell properties="?properties" label="?mnemotechnique"/>
 <treecell properties="?properties" label="?art_cleunik"/>
 <treecell properties="?properties" label="?description"/>
 <treecell properties="?properties" label="?denomination_tva"/>
 <treecell properties="?properties" label="?code_tva"/>
 <treecell properties="?properties" label="?tpf_cleunik"/>
 </treerow>
 </treeitem>
 </treechildren>
 </action></template>
 </tree>
 </vbox>

<hbox>
<button flex="1" tooltiptext ="Sortir" id="bt_sortir" label="Sortir" crop="end" dir="normal" oncommand="window.close();" />
</hbox>
</vbox>
<vbox flex="1">
<vbox id="arbre_articles_panier" flex="2" class='overflow_01'>
<tree id="arbre_des_articles_panier" onclick="pf_sel_arbre_articles();" enableColumnDrag="true" flex="1" flags="" ref="*" querytype="xml" datasources="" seltype="single" context="pop_panier">
<treecols>
 <treecol id="code$vl_c_complement_nom" sort="?code" label="$vl_c_bbo_011" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="mnemotech$vl_c_complement_nom" sort="?mnemotechnique" label="$vl_c_bbo_012" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol hidden="true" id="art_cleunik$vl_c_complement_nom" ignoreincolumnpicker="true" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="description$vl_c_complement_nom" sort="?description" label="$vl_c_bbo_013" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="denomination_tva$vl_c_complement_nom" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol id="code_tva$vl_c_complement_nom" sort="?code_tpf" label="$vl_c_bbo_013" /><splitter class="tree-splitter" resizeafter="grow"/>
 <treecol hidden="true" id="tpf_cleunik$vl_c_complement_nom" ignoreincolumnpicker="true"/><splitter class="tree-splitter" resizeafter="grow"/>
 
 
 </treecols>
 <template><query expr="*"/><action>
 <treechildren>

 <treeitem container="true" uri="?" seltype="single">
 <treerow>
 <treecell properties="?properties" label="?code"/>
 <treecell properties="?properties" label="?mnemotechnique"/>
 <treecell properties="?properties" label="?art_cleunik"/>
 <treecell properties="?properties" label="?description"/>
 <treecell properties="?properties" label="?denomination_tva"/>
 <treecell properties="?properties" label="?code_tva"/>
 <treecell properties="?properties" label="?tpf_cleunik"/>
 </treerow>
 </treeitem>
 </treechildren>
 </action></template>
 </tree>
 </vbox>
<hbox>
<label value="Nouvelle Taxe"/>
$ml_tva_new
<button flex="1" tooltiptext ="Remplacer la taxe" id="bt_remplacer" label="Remplacer la taxe" crop="end" dir="normal" oncommand="pf_remplace_tva();" />
<button flex="1" tooltiptext ="$vl_c_bdl_104" id="bt_retour_selection" label="$vl_c_bdl_104" crop="end" dir="normal" oncommand="pf_voir_deck(0);" />
</hbox>
</vbox>
</deck>
</window>
END;
?>
