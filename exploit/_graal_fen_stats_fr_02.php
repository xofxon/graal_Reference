<?php
include("_graal_header_xul.inc.php");
$vl_e_cleunik_critere=intval(fa_recup_param('quelnocritere','31'));
$vl_te_act_cleunik=fa_recup_param("vl_te_act_cleunik","");
$vl_c_genrecritere=fa_recup_param('genrecritere','');
$vl_e_genreacteur=fa_recup_param('genreacteur','');
switch ($vl_e_cleunik_critere) {
  case 11: $vl_c_id_fenetre="Fen_00075";break;  //Professions et Catégories Socio-professionnelles
  case 21: $vl_c_id_fenetre="Fen_00077";break;  //Nomenclature d'activités Françaises
  case 31: $vl_c_id_fenetre="Fen_00078";break;  //Classification des Produits Français
  case 41: $vl_c_id_fenetre="Fen_00074";break;  //Catégories Juridiques
  case 51: $vl_c_id_fenetre="Fen_00076";break;  //Nomenclatures Econimiques de Synthèse
}
$vl_e_uti_cleunik =intval(fa_recup_session('vs_uti_cleunik','0'));
$vl_tb_droits=_graal_requete_droits_fenetre($vl_c_id_fenetre,$vl_e_uti_cleunik);if ($vl_tb_droits[0]==false) {fa_redirige("acces_interdit");}
_graal_requete_charge_varlib($vl_c_id_fenetre,$vl_e_uti_cleunik);$vl_c_graal_cp00=fa_cree_graal_cp00($vl_c_id_fenetre);
include("_graal_header_winxul.inc.php");
$vl_c_aac_101=fa_recup_dico("aac_101");
$vl_c_aac_102=fa_recup_dico("aac_102");
$vl_c_aac_103=fa_recup_dico("aac_103");
$vl_c_aac_104=fa_recup_dico("aac_104");
$vl_c_aac_105=fa_recup_dico("aac_105");
$vl_c_aac_106=fa_recup_dico("aac_106");
$vl_c_aac_107=fa_recup_dico("aac_107");
$vl_c_aac_108=fa_recup_dico("aac_108");
$vl_c_aac_109=fa_recup_dico("aac_109");
$vl_c_aac_110=fa_recup_dico("aac_110");
$vl_c_aac_111=fa_recup_dico("aac_111");
$vl_c_aac_112=fa_recup_dico("aac_112");
$vl_c_aac_113=fa_recup_dico("aac_113");
$vl_c_aac_114=fa_recup_dico("aac_114");
$vl_c_aac_115=fa_recup_dico("aac_115");
$vl_c_aac_116=fa_recup_dico("aac_116");
$vl_c_aac_117=fa_recup_dico("aac_117");
$vl_c_aac_118=fa_recup_dico("aac_118");
$vl_c_aac_119=fa_recup_dico("aac_119");
$vl_c_aac_120=fa_recup_dico("aac_120");

$vl_c_lab01=$vl_c_aac_101;
switch ($vl_e_cleunik_critere) {
  case 11: $vl_c_lab01=$vl_c_aac_101;break;
  case 21: $vl_c_lab01=$vl_c_aac_109;break;
  case 31: $vl_c_lab01=$vl_c_aac_110;break;
  case 41: $vl_c_lab01=$vl_c_aac_111;break;
  case 51: $vl_c_lab01=$vl_c_aac_112;break;
}
switch ($vl_e_cleunik_critere) {
  case 31:
    $vl_c_lab02=$vl_c_aac_102;
    $vl_c_lab03=$vl_c_aac_103;
    $vl_c_lab04=$vl_c_aac_104;
    $vl_c_lab05=$vl_c_aac_105;
    $vl_c_lab06=$vl_c_aac_106;
    $vl_c_lab07=$vl_c_aac_107;
    $vl_c_lab08=$vl_c_aac_108;
    break;
  case 11 : 
  case 21 :
  case 41 :
  case 51 :
    $vl_c_lab02=$vl_c_aac_113;
    $vl_c_lab03=$vl_c_aac_114;
    $vl_c_lab04=$vl_c_aac_115;
    $vl_c_lab05=$vl_c_aac_116;
    $vl_c_lab06=$vl_c_aac_117;
    $vl_c_lab07=$vl_c_aac_118;
    $vl_c_lab08=$vl_c_aac_119;
    break;
}
echo <<<END
<window context="graal_cp00" id="win_stat_fr" title="$vl_c_aac_101" onload="fa_aa(this);pf_etat_fen('ini');" $c_xmlns>
$vl_c_graal_cp00
END;
include("_graal_visites.inc.php");
include_once("js/_graal_01.js.php");
include("js/_graal_stats_fr_02.js.php");
echo <<<END
  <keyset>
    <key id="k-suivant" key="+" oncommand="pf_etat_fen('suivant');"/>
    <key id="k-precedent" key="-" oncommand="pf_etat_fen('precedent');"/>
  </keyset>  
  <deck id="dk_01" selectedIndex="0" flex="1">
    <vbox id="vb_01">
      <grid flex="0">
        <columns >
          <column flex="2"/>
          <column flex="1"/>
          <column flex="10"/>
        </columns>
        <rows>
          <row flex= "1">
            <description value="$vl_c_aac_102" />
            <textbox id="tbc_01" readonly="true"/>
            <textbox id="tb_01" readonly="true"/>
          </row>
        </rows>
      </grid>
      <listbox flex="1" id="list_01" class="menu_text" sort="?choix_valeur_texte_01" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(0);" seltype="single">
        <template><query expr="*"/><action>
        <listitem uri="?" _graal_code="?choix_code" label="?choix_valeur_texte_01" selected="false" value="?choix_cleunik" />
        </action></template>
      </listbox>
    </vbox>
    <vbox id="vb_02">
      <grid flex="0">
        <columns >
          <column flex="2"/>
          <column flex="1"/>
          <column flex="10"/>
        </columns>
        <rows>
          <row flex= "1">
            <description value="$vl_c_aac_102" />
            <textbox id="tbc_101" readonly="true"/>
            <textbox id="tb_101" readonly="true"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_103" id="de_02"/>
            <textbox id="tbc_02" readonly="true"/>
            <textbox id="tb_02" readonly="true"/>
          </row>
        </rows>
      </grid>
      <listbox id="list_02" flex="1" class="menu_text" sort="?choix_valeur_texte_01" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(1);" seltype="single">
        <template><query expr="*"/><action>
        <listitem uri="?" _graal_code="?choix_code" label="?choix_valeur_texte_01" selected="false" value="?choix_cleunik" />
        </action></template>
      </listbox>
    </vbox>
    <vbox id="vb_03">
      <grid flex="0">
        <columns >
          <column flex="2"/>
          <column flex="1"/>
          <column flex="10"/>
        </columns>
        <rows>
          <row flex= "1">
            <description value="$vl_c_aac_102"/>
            <textbox id="tbc_201" readonly="true"/>
            <textbox id="tb_201" readonly="true" />
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_103"/>  
            <textbox id="tbc_202" readonly="true" />
            <textbox id="tb_202" readonly="true"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_104" id="de_03"/>
            <textbox id="tbc_03"/>
            <textbox id="tb_03" flex="1"/>
          </row>
        </rows>
      </grid>
      <listbox id="list_03" flex="1" class="menu_text" sort="?choix_valeur_texte_01" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(2);" seltype="single">
        <template><query expr="*"/><action>
        <listitem uri="?" _graal_code="?choix_code" label="?choix_valeur_texte_01" selected="false" value="?choix_cleunik" />
        </action></template>
      </listbox>
    </vbox>
    <vbox id="vb_04">
      <grid flex="0">
        <columns >
          <column flex="2"/>
          <column flex="1"/>
          <column flex="10"/>
        </columns>
        <rows>
          <row>
            <description value="$vl_c_aac_102"/>
            <textbox id="tbc_301" readonly="true"/>
            <textbox id="tb_301" readonly="true" />
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_103"/>  
            <textbox id="tbc_302" readonly="true"/>
            <textbox id="tb_302" readonly="true"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_104"/>  
            <textbox id="tbc_303" readonly="true"/>
            <textbox id="tb_303" readonly="true"/>
          </row>
          <row flex="1">
            <description value="$vl_c_aac_105" id="de_04"/>
            <textbox id="tbc_04"/>
            <textbox id="tb_04" flex="1"/>
          </row>
        </rows>
      </grid>
      <listbox id="list_04" flex="1" class="menu_text" sort="?choix_valeur_texte_01" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(3);" seltype="single">
        <template><query expr="*"/><action>
        <listitem uri="?" _graal_code="?choix_code" label="?choix_valeur_texte_01" selected="false" value="?choix_cleunik" />
        </action></template>
      </listbox>
    </vbox>
    <vbox id="vb_05">
      <grid flex="0">
        <columns >
          <column flex="2"/>
          <column flex="1"/>
          <column flex="10"/>
        </columns>
        <rows>
          <row>
            <description value="$vl_c_aac_102"/>
            <textbox id="tbc_401" readonly="true"/>
            <textbox id="tb_401" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_103"/>  
            <textbox id="tbc_402" readonly="true"/>
            <textbox id="tb_402" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_104"/>  
            <textbox id="tbc_403" readonly="true"/>
            <textbox id="tb_403" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_105"/>  
            <textbox id="tbc_404" readonly="true"/>
            <textbox id="tb_404" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_106"/>  
            <textbox id="tbc_05"/>
            <textbox id="tb_05" flex="1"/>
          </row>
        </rows>
      </grid>
      <listbox id="list_05" flex="1" class="menu_text" sort="?choix_valeur_texte_01" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(4);" seltype="single">
        <template><query expr="*"/><action>
        <listitem uri="?" _graal_code="?choix_code" label="?choix_valeur_texte_01" selected="false" value="?choix_cleunik" />
        </action></template>
      </listbox>
    </vbox>
    <vbox id="vb_06">
      <grid flex="0">
        <columns >
          <column flex="2"/>
          <column flex="1"/>
          <column flex="10"/>
        </columns>
        <rows>
          <row>
            <description value="$vl_c_aac_102"/>
            <textbox id="tbc_501" readonly="true"/>
            <textbox id="tb_501" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_103"/>  
            <textbox id="tbc_502" readonly="true"/>
            <textbox id="tb_502" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_104"/>  
            <textbox id="tbc_503" readonly="true"/>
            <textbox id="tb_503" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_105"/>  
            <textbox id="tbc_504" readonly="true"/>
            <textbox id="tb_504" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_106"/>  
            <textbox id="tbc_505" readonly="true"/>
            <textbox id="tb_505" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_107"/>  
            <textbox id="tbc_06"/>
            <textbox id="tb_06" flex="1"/>
          </row>
        </rows>
      </grid>
      <listbox id="list_06" flex="1" class="menu_text" sort="?choix_valeur_texte_01" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(5);" seltype="single">
        <template><query expr="*"/><action>
        <listitem uri="?" _graal_code="?choix_code" label="?choix_valeur_texte_01" selected="false" value="?choix_cleunik" />
        </action></template>
      </listbox>
    </vbox>
    <vbox id="vb_07">
      <grid flex="0">
        <columns >
          <column flex="2"/>
          <column flex="1"/>
          <column flex="10"/>
        </columns>
        <rows>
          <row>
            <description value="$vl_c_aac_102"/>
            <textbox id="tbc_601" readonly="true"/>
            <textbox id="tb_601" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_103"/>  
            <textbox id="tbc_602" readonly="true"/>
            <textbox id="tb_602" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_104"/>  
            <textbox id="tbc_603" readonly="true"/>
            <textbox id="tb_603" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_105"/>  
            <textbox id="tbc_604" readonly="true"/>
            <textbox id="tb_604" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_106"/>  
            <textbox id="tbc_605" readonly="true"/>
            <textbox id="tb_605" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_107"/>  
            <textbox id="tbc_606" readonly="true"/>
            <textbox id="tb_606" readonly="true" flex="1"/>
          </row>
          <row flex= "1">
            <description value="$vl_c_aac_108"/>  
            <textbox id="tbc_07"/>
            <textbox id="tb_07" flex="1"/>
          </row>
        </rows>
      </grid>
      <listbox id="list_07" flex="1" class="menu_text" sort="?choix_valeur_texte_01" label="$vl_c_aac_104" flags="" ref="*" querytype="xml" datasources="" onselect="pf_sel_ligne(6);" seltype="single">
        <template><query expr="*"/><action>
        <listitem uri="?" _graal_code="?choix_code" label="?choix_valeur_texte_01" selected="false" value="?choix_cleunik" />
        </action></template>
      </listbox>
    </vbox>
  </deck>
  <hbox>
    <button id="bt_precedent" label="Précédent" key="k-precedent" accesskey="-" oncommand="pf_etat_fen('precedent');"/>
    <button id="bt_suivant" label="Suivant" key="k-suivant" accesskey="+" oncommand="pf_etat_fen('suivant');"/>
    <button id="bt_enregistrer" label="Valider" oncommand="pf_validation('enregistrer')"/>
    <button id="bt_annuler" label="Annuler" oncommand="pf_etat_fen('annuler');"/>
    <button id="bt_sortir" label="Sortir" oncommand="pf_etat_fen('sortir');"/>
  </hbox>  
</window>
END;
?>
