<?php
_graal_requete_charge_varlib($id_inc_tarifs_particuliers_client,$vl_e_uti_cleunik);
$vl_c_bfo_001=fa_recup_dico("bfo_001");
$vl_c_bfo_002=fa_recup_dico("bfo_002");
$vl_c_bfo_003=fa_recup_dico("bfo_003");
$vl_c_bfo_004=fa_recup_dico("bfo_004");
$vl_c_bfo_005=fa_recup_dico("bfo_005");
$vl_c_bfo_006=fa_recup_dico("bfo_006");
$vl_c_bfo_007=fa_recup_dico("bfo_007");
$vl_c_bfo_008=fa_recup_dico("bfo_008");
$vl_c_bfo_009=fa_recup_dico("bfo_009");
$vl_c_bfo_010=fa_recup_dico("bfo_010");
$vl_c_dico_00106=fa_recup_dico("dico_00106");
$vl_c_context_00='<popupset><popup id="pop_arbre_tarif_particulier_vente"><menuitem class="menuitem-iconic ad09" label="'.$vl_c_dico_00106.'" oncommand="fa_infos_colonnes_arbre_recup(\''.$vl_c_id_fenetre.'\',\'arbre_tarif_particulier_vente\');" /></popup></popupset>';
echo <<<END
$vl_c_context_00
<vbox flex="1">
  <vbox flex="3">    
END;
if ($vl_b_toolbar_tarifs_particulier_vente=="ok") {
echo <<<END
      <toolbar grippyhidden="true">
  		  <toolbarbutton class="table-rafraichir" tooltiptext="$vl_c_bfo_001" oncommand="pf_affiche_donnees_tarif_particulier_vente();"/>
  		  <menulist sizetopopup="none" onfocus='setTimeout(fa_focus_gere_menulist, 0, this);' flex="1" id="ml_tpv_actif" oncommand="pf_affiche_donnees_tarif_particulier_vente();" >
      <menupopup>
        <menuitem label="$vl_c_dico_00046" tooltiptext="$vl_c_dico_00046" selected="true" value="1" /> <!--  Actifs-->
        <menuitem label="$vl_c_dico_00047" tooltiptext="$vl_c_dico_00047" value="2" /> <!--  Inactifs-->
        <menuitem label="$vl_c_dico_00026" tooltiptext="$vl_c_dico_00026" value="0" /> <!--  Tous-->
      </menupopup>
    </menulist>
        <toolbarseparator />
        <hbox id="bloc_tarif_particulier_vente">
          <label value="$vl_c_bfo_002"/>
END;
if ($vl_c_id_fen_tarifs_particulier_vente=="000000000") {$vl_tb_droits[0]=1;$vl_tb_droits[1]=1;} else {$vl_tb_droits=_graal_requete_droits_fenetre($vl_c_id_fen_tarifs_particulier_vente,$vl_e_uti_cleunik);}
if ($vl_tb_droits[0]!=0) {
  if ($vl_tb_droits[1]!=0) {echo('<toolbarbutton class="ajouter" tooltiptext="'.$vl_c_bfo_003.'" oncommand="pf_ouvre(\'tarif_particulier_vente\',\'nouveau\');"/>');}
  echo('<toolbarbutton class="modifier" tooltiptext="'.$vl_c_bfo_004.'" oncommand="pf_ouvre(\'tarif_particulier_vente\',\'ouvrir\');" />');
}
echo("</hbox><toolbarseparator /></toolbar>");
}
echo <<<END
<hbox class='overflow_01' flex="1">
  <tree id="arbre_tarif_particulier_vente" flex="1" flags="" ref="*" querytype="xml" datasources="" seltype="single" enableColumnDrag="true" context="pop_arbre_tarif_particulier_vente">
    <treecols>
      <treecol id="tc_tar_cleunik_particulier_vente" ignoreincolumnpicker="true" hidden="true"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_code_tarif_particulier_vente"  ignoreincolumnpicker="true" hidden="true"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_art_cleunik_particulier_vente" ignoreincolumnpicker="true" hidden="true"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_code_article_interne_vente" label="$vl_c_bfo_005" sort="?code_article_interne_vente"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_desi_article_interne_vente" label="$vl_c_bfo_006" sort="?desi_article_interne_vente"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_designation_tarif_particulier_vente" label="$vl_c_bfo_007" sort="?designation_particulier_vente" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_tarif_particulier_vente" label="$vl_c_bfo_008" class="droite" sort="?tarif_particulier_vente" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_datevalidite_tarif_particulier_vente" label="$vl_c_bfo_009" class="droite" sort="?datevalidite" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_mnemotechnique_tarif_particulier_vente" label="$vl_c_bfo_010" sort="?mnemotechnique" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_borne_basse_tarif_particulier_vente" class="droite" label="Borne basse" sort="?val_borne_basse" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_borne_haute_tarif_particulier_vente" class="droite" label="Borne haute" sort="?val_borne_haute" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_val_borne_basse_tarif_particulier_vente" ignoreincolumnpicker="true" hidden="true" /><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_val_borne_haute_tarif_particulier_vente" ignoreincolumnpicker="true" hidden="true"/><splitter class="tree-splitter" resizeafter="grow"/>
    </treecols>
    <template>
		<query expr="*"/>
		<action>
      <treechildren>
        <treeitem uri="?" seltype="single">
          <treerow>
            <treecell properties="?properties" label="?tar_cleunik_particulier_vente"/>
            <treecell properties="?properties" label="?code_particulier_vente"/>
            <treecell properties="?properties" label="?art_cleunik_particulier_vente"/>
            <treecell properties="?properties" label="?code_article_interne_vente"/>
            <treecell properties="?properties" label="?desi_article_interne_vente"/>
            <treecell properties="?properties" label="?designation_particulier_vente"/>
            <treecell properties="?properties" label="?tarif_particulier_vente"/>
            <treecell properties="?properties" label="?datevalidite"/>
            <treecell properties="?properties" label="?mnemotechnique"/>
            <treecell properties="?properties" label="?borne_basse"/>
            <treecell properties="?properties" label="?borne_haute"/>
            <treecell properties="?properties" label="?val_borne_basse"/>
            <treecell properties="?properties" label="?val_borne_haute"/>
          </treerow>
        </treeitem>
      </treechildren>
			</action>
    </template>
  </tree>
</hbox>
</vbox>
END;
?>
