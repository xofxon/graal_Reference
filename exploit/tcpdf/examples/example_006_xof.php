<?php
//============================================================+
// File name   : example_006.php
// Begin       : 2008-03-04
// Last Update : 2008-07-29
// 
// Description : Example 006 for TCPDF class
//               WriteHTML and RTL support
// 
// Author: Nicola Asuni
// 
// (c) Copyright:
//               Nicola Asuni
//               Tecnick.com s.r.l.
//               Via Della Pace, 11
//               09044 Quartucciu (CA)
//               ITALY
//               www.tecnick.com
//               info@tecnick.com
//============================================================+

/**
 * Creates an example PDF TEST document using TCPDF
 * @package com.tecnick.tcpdf
 * @abstract TCPDF - Example: WriteHTML and RTL support
 * @author Nicola Asuni
 * @copyright 2004-2008 Nicola Asuni - Tecnick.com S.r.l (www.tecnick.com) Via Della Pace, 11 - 09044 - Quartucciu (CA) - ITALY - www.tecnick.com - info@tecnick.com
 * @link http://tcpdf.org
 * @license http://www.gnu.org/copyleft/lesser.html LGPL
 * @since 2008-03-04
 */

require_once('../config/lang/eng.php');
require_once('../tcpdf.php');

// create new PDF document
$pdf = new TCPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true); 

// set document information
$pdf->SetCreator(PDF_CREATOR);
$pdf->SetAuthor("Nicola Asuni");
$pdf->SetTitle("TCPDF Example 006");
$pdf->SetSubject("TCPDF Tutorial");
$pdf->SetKeywords("TCPDF, PDF, example, test, guide");

// set default header data
$pdf->SetHeaderData(PDF_HEADER_LOGO, PDF_HEADER_LOGO_WIDTH, PDF_HEADER_TITLE, PDF_HEADER_STRING);

// set header and footer fonts
$pdf->setHeaderFont(Array(PDF_FONT_NAME_MAIN, '', PDF_FONT_SIZE_MAIN));
$pdf->setFooterFont(Array(PDF_FONT_NAME_DATA, '', PDF_FONT_SIZE_DATA));

//set margins
$pdf->SetMargins(PDF_MARGIN_LEFT, PDF_MARGIN_TOP, PDF_MARGIN_RIGHT);
$pdf->SetHeaderMargin(PDF_MARGIN_HEADER);
$pdf->SetFooterMargin(PDF_MARGIN_FOOTER);

//set auto page breaks
$pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);

//set image scale factor
$pdf->setImageScale(PDF_IMAGE_SCALE_RATIO); 

//set some language-dependent strings
$pdf->setLanguageArray($l); 

//initialize document
$pdf->AliasNbPages();

// add a page
$pdf->AddPage();

// ---------------------------------------------------------

// set font
$pdf->SetFont("freeserif", "", 11);

// create some HTML content
$htmlcontent = "<h1>HTML Example</h1>&lt; € &euro; &#8364; &amp; è &egrave; &copy; &gt; \\slash \\\\double-slash \\\\\\triple-slash<h2>List</h2>List example:<ol><li><b>bold text</b></li><li><i>italic text</i></li><li><u>underlined text</u></li><li><a href=\"http://www.tecnick.com\" dir=\"ltr\">link to http://www.tecnick.com</a></li><li>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.<br />Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</li><li>SUBLIST<ol><li>row one<ul><li>sublist</li></ul></li><li>row two</li></ol></li><li><b>T</b>E<i>S</i><u>T</u> <del>line through</del></li><li><font size=\"+3\">font + 3</font></li><li><small>small text</small> normal <small>small text</small> normal <sub>subscript</sub> normal <sup>superscript</sup> normal</li></ol><dl><dt>Coffee</dt><dd>Black hot drink</dd><dt>Milk</dt><dd>White cold drink</dd></dl><div style=\"text-align:center\">IMAGES<br /><img src=\"../images/logo_example.png\" alt=\"test alt attribute\" width=\"100\" height=\"100\" border=\"0\" align=\"top\" /><img src=\"../images/tiger.ai\" alt=\"test alt attribute\" width=\"100\" height=\"100\" border=\"0\" align=\"top\" /><img src=\"../images/logo_example.jpg\" alt=\"test alt attribute\" width=\"100\" height=\"100\" border=\"0\" /></div>";

// output the HTML content
$pdf->writeHTML($htmlcontent, true, 0, true, 0);

// output some RTL HTML content
$pdf->writeHTML("<div style=\"text-align:center\">The words &#8220;<span dir=\"rtl\">&#1502;&#1494;&#1500; [mazel] &#1496;&#1493;&#1489; [tov]</span>&#8221; mean &#8220;Congratulations!&#8221;</div>", true, 0, true, 0);

// reset pointer to the last page
$pdf->lastPage();

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// Print a table

// add a page
$pdf->AddPage();

// create some HTML content
$subtable = "<table border=\"1\" cellspacing=\"1\" cellpadding=\"1\"><tr><td>a</td><td>b</td></tr><tr><td>c</td><td>d</td></tr></table>";

$htmltable = "<h2>HTML TABLE:</h2><table border=\"1\" cellspacing=\"2\" cellpadding=\"2\"><tr><th>#</th><th align=\"right\">RIGHT align</th><th align=\"left\">LEFT align</th><th>4A</th></tr><tr><td>1</td><td bgcolor=\"#cccccc\" align=\"center\" colspan=\"2\">A1 ex<i>amp</i>le <a href=\"http://www.tcpdf.org\">link</a> column span. One two tree four five six seven eight nine ten.<br />line after br<br /><small>small text</small> normal <sub>subscript</sub> normal <sup>superscript</sup> normal  bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla<ol><li>first<ol><li>sublist</li><li>sublist</li></ol></li><li>second</li></ol><small color=\"#FF0000\" bgcolor=\"#FFFF00\">small small small small small small small small small small small small small small small small small small small small</small></td><td>4B</td></tr><tr><td>".$subtable."</td><td bgcolor=\"#0000FF\" color=\"yellow\" align=\"center\">A2 € &euro; &#8364; &amp; è &egrave;<br/>A2 € &euro; &#8364; &amp; è &egrave;</td><td bgcolor=\"#FFFF00\" align=\"left\"><font color=\"#FF0000\">Red</font> Yellow BG</td><td>4C</td></tr><tr><td>1A</td><td rowspan=\"2\" colspan=\"2\" bgcolor=\"#FFFFCC\">2AA<br />2AB<br />2AC</td><td bgcolor=\"#FF0000\">4D</td></tr><tr><td>1B</td><td>4E</td></tr><tr><td>1C</td><td>2C</td><td>3C</td><td>4F</td></tr></table>";

// output the HTML content
$pdf->writeHTML($htmltable, true, 0, true, 0);

// Print some HTML Cells

$cellcontent = "<span color=\"red\">red</span> <span color=\"green\">green</span> <span color=\"blue\">blue</span><br /><span color=\"red\">red</span> <span color=\"green\">green</span> <span color=\"blue\">blue</span>";

$pdf->SetFillColor(255,255,0);

$pdf->writeHTMLCell(0, 0, '', '', $cellcontent, "LRTB", 1, 0, true, 'L');
$pdf->writeHTMLCell(0, 0, '', '', $cellcontent, "LRTB", 1, 1, true, 'C');
$pdf->writeHTMLCell(0, 0, '', '', $cellcontent, "LRTB", 1, 0, true, 'R');

// reset pointer to the last page
$pdf->lastPage();

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// Print all HTML colors

// add a page
$pdf->AddPage();

require_once('../htmlcolors.php');

$textcolors = "<h1>HTML Text Colors</h1>";
$bgcolors = "<hr /><h1>HTML Background Colors</h1>";

foreach($webcolor as $k => $v) {
	$textcolors .= "<span color=\"#".$v."\">".$v."</span> ";
	$bgcolors .= "<span bgcolor=\"#".$v."\" color=\"#333333\">".$v."</span> ";
}

// output the HTML content
$pdf->writeHTML($textcolors, true, 0, true, 0);
$pdf->writeHTML($bgcolors, true, 0, true, 0);

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

// Test word-wrap

// create some HTML content
$htmltxt = "<hr /><h1>Various tests</h1><font face=\"courier\"><b>thisisaverylongword</b></font> <font face=\"helvetica\"><i>thisisanotherverylongword</i></font> <font face=\"times\"><b>thisisaverylongword</b></font> thisisanotherverylongword <font face=\"dejavusans\">thisisaverylongword</font> <font face=\"courier\"><b>thisisaverylongword</b></font> <font face=\"helvetica\"><i>thisisanotherverylongword</i></font> <font face=\"times\"><b>thisisaverylongword</b></font> thisisanotherverylongword <font face=\"dejavusans\">thisisaverylongword</font> <font face=\"courier\"><b>thisisaverylongword</b></font> <font face=\"helvetica\"><i>thisisanotherverylongword</i></font> <font face=\"times\"><b>thisisaverylongword</b></font> thisisanotherverylongword <font face=\"dejavusans\">thisisaverylongword</font> <font face=\"courier\"><b>thisisaverylongword</b></font> <font face=\"helvetica\"><i>thisisanotherverylongword</i></font> <font face=\"times\"><b>thisisaverylongword</b></font> thisisanotherverylongword <font face=\"dejavusans\">thisisaverylongword</font> <font face=\"courier\"><b>thisisaverylongword</b></font> <font face=\"helvetica\"><i>thisisanotherverylongword</i></font> <font face=\"times\"><b>thisisaverylongword</b></font> thisisanotherverylongword <font face=\"dejavusans\">thisisaverylongword</font> ";

// output the HTML content
$pdf->writeHTML($htmltxt, true, 0, true, 0);

// Test fonts nesting

$teststr1 = "Default <font face=\"courier\">Courier <font face=\"helvetica\">Helvetica <font face=\"times\">Times <font face=\"dejavusans\">DejavuSans </font>Times </font>Helvetica </font>Courier </font>Default";

$teststr2 = '<small>small text</small> normal <small>small text</small> normal <sub>subscript</sub> normal <sup>superscript</sup> normal';

$teststr3 = '<font size="10" color="#ff7f50">The</font> <font size="10" color="#6495ed">quick</font> <font size="14" color="#dc143c">brown</font> <font size="18" color="#008000">fox</font> <font size="22"><a href="http://www.tcpdf.org">jumps</a></font> <font size="22" color="#a0522d">over</font> <font size="18" color="#da70d6">the</font> <font size="14" color="#9400d3">lazy</font> <font size="10" color="#4169el">dog</font>.';

$html = $teststr1."<br />".$teststr2."<br />".$teststr3."<br />".$teststr3."<br />".$teststr2;

// output the HTML content
$pdf->writeHTML($html, true, 0, true, 0);

$pdf->AddPage();

$toto=<<<EOT
<small><br><br><br><br><br></small><div style="text-align: center;"><big><big>CONDITIONS GENERALES DE VENTE</big></big><br></div><small><br><br><br><br>GENERALITES :<br>Toute commande faite à notre société ne deviendra définitive qu’après confirmation écrite de notre part.<br>Toute
commande implique de la part de l’acheteur l’acceptation des présentes
conditions réputées connues de celui-ci, auxquelles il ne peut opposer
aucune clause contraire sauf dans la mesure où nous l’avons
formellement acceptée par écrit.<br><br>PRIX :<br>Nos prix sont donnés à titre indicatif et sans engagement. Ils sont susceptibles d’être modifiés sans avis préalable.<br><br>LIVRAISON :<br>Les
délais de livraison prévus lors des commandes ne sont donnés qu’à titre
indicatif et les retards éventuels ne donneront pas droit à l’acheteur
d’annuler la vente, de refuser la marchandise ou de réclamer des
dommages intérêts.<br>Nos marchandises voyagent aux risques et périls du destinataire même en cas d’envoi franco domicile.<br>Toute
réclamation, pour être valable, devra nous parvenir dans les trois
jours qui suivront la réception des produits en cause, par lettre
recommandée avec accusé réception.<br>En cas de force majeure notre entreprise sera libérée de son obligation de livraison.<br>Sans
que cette liste ait un caractère limitatif, seront considérés comme cas
de force majeure : la guerre, l’émeute, l’incendie, les grèves,
l’inondation, les catastrophes naturelles, l’impossibilité de
s’approvisionner.<br><br>PAIEMENT :<br>Quel que soit le lieu d’expédition, nos marchandises sont payables à notre siège social à GLEIZE 69400 VILLEFRANCHE SUR SAONE.<br>Nos factures sont payables à 30 jours nets de facturation.<br>En cas de règlement anticipé, il ne sera pas appliqué d’escompte.<br>Tout
paiement effectué au-delà du délai prévu par les présentes conditions
générales de vente et ce même si une date postérieure a été portée sur
la facture, entraînera la perception de pénalités de retard calculées
par mois au taux d’une fois et demie le taux d’intérêt légal.<br>La livraison des marchandises constitue le fait générateur de la facturation.<br>En cas de retard de paiement à l’échéance convenue, toutes les commandes en cours seront suspendues.<br>En
cas de pluralité d’échéance, le non-paiement d’une seule de celles-ci
entraînera la déchéance du terme et la totalité des sommes restant dues
deviendra alors exigible, sans préjudice d’exercer l’action
résolutoire, 15 jours après une mise en demeure par lettre recommandée
avec avis de réception demeurée infructueuse.<br>Toutes les commandes en cours seront annulées.<br>A
défaut de paiement par l’acheteur d’une seule fraction du prix aux
échéances convenues et huit jours après mise en demeure restée
infructueuse, la présente vente sera résiliée de plein droit si bon
semble au vendeur.<br>Dans ce cas, le vendeur pourra obtenir la
restitution des marchandises vendues par simple ordonnance de référé
rendue par Monsieur le Président du Tribunal de Commerce compétent en
application de la clause attributive de compétence.<br>La même décision
désignera un expert en vue de constater l’état des marchandises
restituées et d’en fixer la valeur. Sur cette base les comptes des
parties seront liquidés compte tenu des dommages et intérêts incombant
à l’acheteur pour résolution de la vente et à titre de clause pénale
d’une indemnité égale à 15 % des sommes dues, outre les intérêts légaux
et les frais judiciaires éventuels.<br>Nos conditions de vente
cesseront de s’appliquer si lors d’une précédente commande l’acheteur
s’est soustrait d’une manière ou d’une autre à ses obligations. Un
refus de vente sera alors valablement opposé, à moins que l’acheteur ne
fournisse des garanties suffisantes ou un paiement comptant.<br><br>RECOUVREMENT :<br>Dans
le cas où la carence du débiteur nous contraindrait à confier à notre
contentieux le recouvrement des sommes dues à notre société, celles-ci
se trouveraient majorées en sus des intérêts précités d’une indemnité
irréductible fixée à 20 % de leur montant. Cette majoration est établie
à titre de clause pénale conformément aux articles 1226 et 1152 du Code
Civil.<br><br>CLAUSE DE RESERVE DE PROPRIETE :<br>Il est expressément
convenu que notre Société conserve la propriété des marchandes
désignées dans ce document jusqu’au paiement intégral de son prix, en
principal et intérêts, la remise de traite ou de tout autre titre
créant une obligation de payer ne constituant pas un paiement.<br>Les
marchandises restant la propriété du vendeur jusqu’au paiement intégral
de leur prix, il est interdit à l’acheteur d’en disposer pour les
revendre. Toutefois à titre de simple tolérance et pour les seuls
besoins de son activité, le vendeur autorise l’acheteur à revendre les
marchandises désignées sous réserve que l’acheteur s’acquitte, dès la
revente, de l’intégralité du prix restant dû, les sommes
correspondantes étant, dès à présent, nanties au profit du vendeur
conformément à l’article 2071 du Code Civil, l’acquéreur devenant
simple dépositaire du prix.<br><br>TRANSFERT DES RISQUES :<br>Le
matériel restera la propriété du vendeur jusqu’au paiement intégral de
son prix, mais l’acheteur en deviendra responsable dès sa remise
matérielle, le transfert de possession entraînant le transfert des
risques.<br>L’acheteur s’engage en conséquence à souscrire dès à
présent un contrat d’assurances, garantissant les risques de perte, vol
ou destruction du matériel désigné.<br><br>REVENDICATION :<br>Au cas de
mise en redressement judiciaire ou en liquidation des biens de
l’acheteur, les pièces et matériel ci-dessus désignés pourront être
revendiqués, conformément aux dispositions de la loi du 25 Janvier
1985, dans les trois mois suivant le prononcé du jugement ouvrant la
procédure de redressement judiciaire.<br><br>COMPETENCE :<br>Pour
toutes les contestations relatives à l’exécution ou à l’interprétation
des présentes conditions, le tribunal de Commerce de Villefranche sur
Saône sera seul compétent, même en cas de pluralité de défendeurs.<br></small>
EOT;
//$this->writeHTML($toto, false, 0, true, true);
$pdf->writeHTML($toto, true, 0, true, 0);





// reset pointer to the last page
$pdf->lastPage();

// ---------------------------------------------------------

//Close and output PDF document
$pdf->Output("example_006.pdf", "I", "I");

//============================================================+
// END OF FILE                                                 
//============================================================+
?>
