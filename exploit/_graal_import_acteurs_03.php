<?php
include("_graal_header_xul.inc.php");
$vl_e_genreacteur=intval(fa_recup_param('vl_e_genreacteur','0'));
$vf_imp_cleunik=intval(fa_recup_param('vf_imp_cleunik',-1));
switch ($vl_e_genreacteur) {
  case "110001": $vl_c_id_fenetre="Fen_01050";break;  //  prospects clients
  case "110002": $vl_c_id_fenetre="Fen_01051";break;  //  prospects fournisseurs
  case "110003": $vl_c_id_fenetre="Fen_01052";break;  //  clients
  case "110004": $vl_c_id_fenetre="Fen_01053";break;  //  fournisseurs
  case "110005": $vl_c_id_fenetre="Fen_01054";break;  //  autres acteurs
  case "110006": $vl_c_id_fenetre="Fen_01055";break;  //  acteurs indéterminés
}
$vl_e_uti_cleunik =intval(fa_recup_session('vs_uti_cleunik','0'));
$vl_tb_droits=_graal_requete_droits_fenetre($vl_c_id_fenetre,$vl_e_uti_cleunik);
$vl_b_acces=$vl_tb_droits[0];
$vl_b_ajout=$vl_tb_droits[1];$vl_b_modif=$vl_tb_droits[2];$vl_b_suppr=$vl_tb_droits[3];$vl_b_impri=$vl_tb_droits[4];$vl_b_detai=1;
if ($vl_b_acces==false) {fa_redirige("acces_interdit");}
_graal_requete_charge_varlib($vl_c_id_fenetre,$vl_e_uti_cleunik);$vl_c_graal_cp00=fa_cree_graal_cp00($vl_c_id_fenetre);
$vl_c_dico_00005=fa_recup_dico('dico_00005');
$vl_c_brv_100=fa_recup_dico("brv_100");
$vl_c_brv_101=fa_recup_dico("brv_101");
$vl_c_brv_102=fa_recup_dico("brv_102");
$vl_c_brv_103=fa_recup_dico("brv_103");
$vl_c_brv_104=fa_recup_dico("brv_104");
$vl_c_brv_105=fa_recup_dico("brv_105");
$vl_c_brv_106=fa_recup_dico("brv_106");
$vl_c_brv_107=fa_recup_dico("brv_107");
$vl_c_brv_108=fa_recup_dico("brv_108");
$vl_c_brv_109=fa_recup_dico("brv_109");
$vl_c_brv_110=fa_recup_dico("brv_110");
$vl_c_brv_111=fa_recup_dico("brv_111");
$vl_c_brv_112=fa_recup_dico("brv_112");
$vl_c_brv_113=fa_recup_dico("brv_113");
$vl_c_brv_114=fa_recup_dico("brv_114");
$vl_c_brv_115=fa_recup_dico("brv_115");
$vl_c_brv_116=fa_recup_dico("brv_116");
$vl_c_brv_117=fa_recup_dico("brv_117");
$vl_c_brv_118=fa_recup_dico("brv_118");
$vl_c_brv_119=fa_recup_dico("brv_119");
$vl_c_brv_120=fa_recup_dico("brv_120");
$vl_c_brv_121=fa_recup_dico("brv_121");
$vl_c_brv_122=fa_recup_dico("brv_122");
$vl_c_brv_123=fa_recup_dico("brv_123");
$vl_c_brv_124=fa_recup_dico("brv_124");
$vl_c_brv_125=fa_recup_dico("brv_125");
$vl_c_brv_126=fa_recup_dico("brv_126");
$vl_c_brv_127=fa_recup_dico("brv_127");
$vl_c_brv_128=fa_recup_dico("brv_128");
$vl_c_brv_129=fa_recup_dico("brv_129");
$vl_c_brv_130=fa_recup_dico("brv_130");
$vl_c_brv_131=fa_recup_dico("brv_131");



$vl_c_brv_200=fa_recup_dico("brv_200");
$vl_c_brv_201=fa_recup_dico("brv_201");

$vl_c_dico_00006=fa_recup_dico("dico_00006");
$vl_c_dico_00013=fa_recup_dico("dico_00013");
$vl_c_dico_00014=fa_recup_dico("dico_00014");
$vl_c_dico_00106=fa_recup_dico("dico_00106");
include("_graal_header_winxul.inc.php");
echo <<<END
<window title="$vl_c_brv_100" onload="fa_aa(this);pf_etat_fen('ini')" onunload="pf_onunload();" $c_xmlns>
$vl_c_graal_cp00 
END;
include("_graal_visites.inc.php");
include_once("js/_graal_01.js.php");
include("js/_graal_import_acteurs_03.js.php");
echo <<<END
<popupset>
  <popup id="pop_acteurs">
    <menuitem class="menuitem-iconic ad09" label="$vl_c_dico_00106" oncommand="fa_infos_colonnes_arbre_recup('$vl_c_id_fenetre','arbre_acteurs');" />
  </popup>
</popupset>
<deck id="id_deck" flex="1">
<vbox id="box_boite_outils_xof_01" flex="1" class="overflow_01">
  <tree id="arbre_acteurs" ignoreincolumnpicker="true" flex="1" flags="" ref="*" querytype="xml" datasources="" seltype="multiple" enableColumnDrag="true" context="pop_acteurs" ondblclick="pf_ouvre('acteur');">
    <treecols>
      <treecol id="tc_cola" label="$vl_c_brv_101" sort="?cola"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colb" label="$vl_c_brv_102" sort="?colb"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colc" label="$vl_c_brv_103" sort="?colc"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_cold" label="$vl_c_brv_104" sort="?colc"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_cole" label="$vl_c_brv_105" sort="?cole"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colf" label="$vl_c_brv_106" sort="?colf"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colg" label="$vl_c_brv_107" sort="?colg"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colh" label="$vl_c_brv_108" sort="?colh"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_coli" label="$vl_c_brv_109" sort="?coli"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colj" label="$vl_c_brv_110" sort="?colj"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colk" label="$vl_c_brv_111" sort="?colk"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_coll" label="$vl_c_brv_112" sort="?coll"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colm" label="$vl_c_brv_113" sort="?colm"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_coln" label="$vl_c_brv_114" sort="?coln"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colo" label="$vl_c_brv_115" sort="?colo"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colp" label="$vl_c_brv_116" sort="?colp"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colq" label="$vl_c_brv_117" sort="?colq"/><splitter class="tree-splitter" resizeafter="grow"/>
	<treecol id="tc_colr" label="$vl_c_brv_118" sort="?colr"/><splitter class="tree-splitter" resizeafter="grow"/>
	<treecol id="tc_cols" label="$vl_c_brv_119" sort="?cols"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colt" label="$vl_c_brv_120" sort="?colt"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colu" label="$vl_c_brv_121" sort="?colu"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colv" label="$vl_c_brv_122" sort="?colv"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colw" label="$vl_c_brv_123" sort="?colw"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colx" label="$vl_c_brv_124" sort="?colx"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_coly" label="$vl_c_brv_125" sort="?coly"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colz" label="$vl_c_brv_126" sort="?colz"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colaa" label="$vl_c_brv_127" sort="?colaa"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colab" label="$vl_c_brv_128" sort="?colaa"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colac" label="$vl_c_brv_129" sort="?colaa"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colad" label="$vl_c_brv_130" sort="?colaa"/><splitter class="tree-splitter" resizeafter="grow"/>
      <treecol id="tc_colae" label="$vl_c_brv_131" sort="?colaa"/><splitter class="tree-splitter" resizeafter="grow"/>
    </treecols>
    <template><query expr="*"/><action>
      <treechildren>
        <treeitem uri="?" seltype="single">
          <treerow>
            <treecell label="?cola"/>
            <treecell label="?colb"/>
            <treecell label="?colc"/>
            <treecell label="?cold"/>																		
            <treecell label="?cole"/>
            <treecell label="?colf"/>
            <treecell label="?colg"/>
            <treecell label="?colh"/>																		
            <treecell label="?coli"/>
            <treecell label="?colj"/>
            <treecell label="?colk"/>
            <treecell label="?coll"/>																		
            <treecell label="?colm"/>
            <treecell label="?coln"/>
            <treecell label="?colo"/>
            <treecell label="?colp"/>
            <treecell label="?colq"/>
            <treecell label="?colr"/>
			<treecell label="?cols"/>
            <treecell label="?colt"/>
            <treecell label="?colu"/>
            <treecell label="?colv"/>																		
            <treecell label="?colw"/>
            <treecell label="?colx"/>
            <treecell label="?coly"/>
            <treecell label="?colz"/>																		
            <treecell label="?colaa"/>
			<treecell label="?colab"/>
			<treecell label="?colac"/>
			<treecell label="?colad"/>
			<treecell label="?colae"/>
          </treerow>
        </treeitem>
      </treechildren>
    </action></template>
  </tree>
  <hbox>
    <button flex="1" label="$vl_c_brv_200" oncommand="pf_validation();" />
    <button flex="1" label="$vl_c_brv_201" oncommand="pf_etat_fen('sortir');" />
  </hbox>
</vbox>
<vbox flex="1">
  		<iframe id="if_import_acteurs" src="" flex="1"/>
		<button label="$vl_c_brv_201" oncommand="pf_etat_fen('sortir');" />
</vbox>
</deck>
</window>
END;
?>
